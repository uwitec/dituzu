(function(){var l=void 0,n=!0,r=null,t=!1;function x(){return function(){}}function y(v){return function(){return this[v]}}function v(a){for(var c=Array.prototype.slice.call(arguments,1),d=0,f=c.length,e;d<f;d++){e=c[d]||{};for(var h in e)e.hasOwnProperty(h)&&(a[h]=e[h])}return a}function p(){function a(){arguments&&arguments[0]!=p.sc&&this.initialize.apply(this,arguments)}for(var c={},d,f=0,e=arguments.length;f<e;++f)"function"==typeof arguments[f]?(0==f&&1<e&&(d=arguments[f].prototype.initialize,arguments[f].prototype.initialize=x(),c=new arguments[f],d===l?delete arguments[f].prototype.initialize:arguments[f].prototype.initialize=
d),d=arguments[f].prototype):d=arguments[f],v(c,d);a.prototype=c;return a}var e={Conf:{version:"1.1.14-0318",key:"de84066a8af110b41a95682b087c583d",server:"http://restapi.amap.com",client:"http://webapi.amap.com",bounds:[114.434945,38.583943,118.536708,41.287731],zooms:[3,18],mapUrl:"http://webrd0{1,2,3,4}.is.autonavi.com/appmaptile?lang=zh_cn&size=1&scale=1&style=7&x=[x]&y=[y]&z=[z]",satelliteUrl:"http://webst0{1,2,3,4}.is.autonavi.com/appmaptile?style=6&x=[x]&y=[y]&z=[z]",streetUrl:"http://webst0{1,2,3,4}.is.autonavi.com/appmaptile?style=8&x=[x]&y=[y]&z=[z]",
touchUrl:"http://wprd0{1,2,3,4}.is.autonavi.com/appmaptile?style=7&x=[x]&y=[y]&z=[z]",dragEnable:n,zoomEnable:n,keyboardEnable:n,jogEnable:n,doubleClickZoom:n,continuousZoomEnable:n,frameZoomEnable:n,scrollWheel:n,resizeEnable:n,_copyright:'<a href="http://api.amap.com" target="_blank">Amap API</a>&nbsp;&copy;&nbsp;2013 AutoNavi'}};p.sc=x();e.Bounds=p({_type:"bounds",southwest:{},northeast:{},initialize:function(a,c){if(!(a instanceof e.LngLat))throw Error("AMap.Bounds<sw>\u53c2\u6570\u65e0\u6548");
if(!(c instanceof e.LngLat))throw Error("AMap.Bounds<ne>\u53c2\u6570\u65e0\u6548");this.southwest=a;this.northeast=c},intersects:function(a,c){c==r&&(c=n);var d=t,f=this.southwest,e=this.northeast,h=a.southwest,k=a.northeast,m=f.lng==k.lng||e.lng==h.lng||e.lat==h.lat||f.lat==k.lat;if(c||!m)var d=k.lat>=f.lat&&k.lat<=e.lat||e.lat>h.lat&&e.lat<k.lat,m=h.lng>=f.lng&&h.lng<=e.lng||f.lng>=h.lng&&f.lng<=k.lng,q=k.lng>=f.lng&&k.lng<=e.lng||e.lng>=h.lng&&e.lng<=k.lng,d=(h.lat>=f.lat&&h.lat<=e.lat||f.lat>=
h.lat&&f.lat<=k.lat||d)&&(m||q);return d},inBounds:function(a){var c=this.southwest,d=this.northeast;return a.lng>c.lng&&a.lng<d.lng&&a.lat>c.lat&&a.lat<d.lat?n:t},getCenter:function(){return new e.LngLat((this.southwest.lng+this.northeast.lng)/2,(this.southwest.lat+this.northeast.lat)/2)}});e.Bounds.prototype.toString=function(){return this.southwest.toString()+";"+this.northeast.toString()};e.LngLat=p({_type:"lnglat",lng:0,lat:0,initialize:function(a,c,d){if(isNaN(a)||isNaN(c))throw Error("\u65e0\u6548LngLat\u5bf9\u8c61: ("+
a+", "+c+")");a=Number(a);c=Number(c);d||(a=(a+180)%360+(-180>a||180===a?180:-180),c=Math.max(Math.min(c,90),-90));this.lng=Number(a.toFixed(8));this.lat=Number(c.toFixed(8))},add:function(a,c){return new e.LngLat(this.lng+a.lng,this.lat+a.lat,c)},t:function(a,c){return new e.LngLat(this.lng-a.lng,this.lat-a.lat,c)},D:function(a,c){return new e.LngLat(this.lng/a,this.lat/a,c)},O:function(a,c){return new e.LngLat(this.lng*a,this.lat*a,c)},distance:function(a){var c=e.LngLat.Ab,d=Math.sin((a.lat-this.lat)*
c/2),f=Math.sin((a.lng-this.lng)*c/2);a=d*d+f*f*Math.cos(this.lat*c)*Math.cos(a.lat*c);return 12756274*Math.atan2(Math.sqrt(a),Math.sqrt(1-a))},offset:function(a,c){var d=2*Math.asin(Math.sin(Math.round(a)/12756274)/Math.cos(this.lat*Math.PI/180)),d=this.lng+180*d/Math.PI,f=2*Math.asin(Math.round(c)/12756274);return new e.LngLat(d,this.lat+180*f/Math.PI)}});e.LngLat.prototype.toString=function(){return this.lng+","+this.lat};v(e.LngLat,{Ab:Math.PI/180,Sc:180/Math.PI,Qc:1E-9});e.Pixel=p({_type:"pixel",
initialize:function(a,c,d){if(isNaN(a)||isNaN(c))throw Error("\u65e0\u6548Pixel\u5bf9\u8c61: ("+a+", "+c+")");this.x=d?Math.round(a):Number(a);this.y=d?Math.round(c):Number(c)},add:function(a,c){return new e.Pixel(this.x+a.x,this.y+a.y,c)},t:function(a,c){return new e.Pixel(this.x-a.x,this.y-a.y,c)},D:function(a,c){return new e.Pixel(this.x/a,this.y/a,c)},O:function(a,c){return new e.Pixel(this.x*a,this.y*a,c)},hb:function(a){var c=a.x-this.x;a=a.y-this.y;return Math.sqrt(c*c+a*a)},round:function(){return new e.Pixel(this.x,
this.y,n)},hc:function(a){return!(a instanceof e.Pixel)?t:this.x==a.x&&this.y==a.y}});e.Pixel.prototype.toString=function(){return this.x+","+this.y};e.ya=p({initialize:function(a,c){if(a)for(var d=a instanceof Array?a:[a,c],f=0;f<d.length;f++)this.ic(d[f])},pd:y("l"),od:y("k"),rd:function(){return new e.Pixel(this.l.x,this.k.y)},qd:function(){return new e.Pixel(this.k.x,this.l.y)},ic:function(a){!this.l&&!this.k?(this.l=new e.Pixel(a.x,a.y),this.k=new e.Pixel(a.x,a.y)):(this.l.x=Math.min(a.x,this.l.x),
this.k.x=Math.max(a.x,this.k.x),this.l.y=Math.min(a.y,this.l.y),this.k.y=Math.max(a.y,this.k.y))},jc:function(a){return new e.Pixel((this.l.x+this.k.x)/2,(this.l.y+this.k.y)/2,a)},contains:function(a){var c;a instanceof e.ya?(c=a.l,a=a.k):c=a;return c.x>=this.l.x&&a.x<=this.k.x&&c.y>=this.l.y&&a.y<=this.k.y},xd:function(a){var c=this.l,d=this.k,f=a.l;a=a.k;var e=a.y>=c.y&&f.y<=d.y;return a.x>=c.x&&f.x<=d.x&&e}});e.Size=p({_type:"size",width:0,height:0,initialize:function(a,c){if(isNaN(a))throw Error("AMap.Size<width>\u53c2\u6570\u65e0\u6548\n"+
a);if(isNaN(c))throw Error("AMap.Size<height>\u53c2\u6570\u65e0\u6548\n"+c);this.width=Number(a);this.height=Number(c)}});e.TileLayer=p({_type:"tilelayer",initialize:function(a){a=a||{};this.id="t"+e.Util.guid();this.tileSize=a.tileSize||256;this.tileUrl=a.tileUrl||e.Conf.mapUrl;this.errorUrl=e.Util.na;this.opacity=this.zIndex=1;this.zooms=[3,18];this.reuseTiles=this.zoomOffset=this.detectRetina=this.noWrap=this.continuousWorld=t;this.Tb=this.Vb=0;this.p={};this.u={};for(var c in a)"_"!=c.substr(0,
1)&&this[c]!=l&&(this[c]=a[c]);this.detectRetina&&(1<window.devicePixelRatio&&0<this.zooms[1])&&(this.tileSize=Math.floor(this.tileSize/2),this.zoomOffset++,0<this.zooms[0]&&this.zooms[0]--,this.zooms[1]--,this.tileUrl=a.tileUrl||e.Conf.touchUrl);return this},xb:function(a){this.map=a;this.ia(a);this.$b();this.S()},Gc:function(a){a.contains.lay.removeChild(this.g);this.map=this.g=r;this.u={}},ia:function(a){var c=this.g=document.createElement("div");c.id=this.id;c.style.cssText="position:absolute;left:0;top:0;z-index:"+
this.zIndex;a.contains.lay.appendChild(c)},Na:function(){if(this.reuseTiles){var a=this.map.L,c=this.map.level;this.u[c]||(this.u[c]={})}for(var d in this.p)this.bb(d,a);this.S();this.map.c(this,"reload")},$b:function(){this.u={};var a=this.map.level;this.u[a]||(this.u[a]={});this.p={}},S:function(){var a=this.map;if(!(a.level>this.zooms[1]||a.level<this.zooms[0])){var c=a.Nb(),d=this.tileSize,f=new e.Pixel(Math.floor((c.l.x-0)/d),Math.floor((c.l.y-0)/d));seTilePoint=new e.Pixel(Math.floor((c.k.x+
0)/d),Math.floor((c.k.y+0)/d));tileBounds=new e.ya(f,seTilePoint);this.Ub(tileBounds);this.Zb(tileBounds,a.level)}},Zb:function(a,c){for(var d in this.p)if(this.p.hasOwnProperty(d)){var f=d.split(","),f=new e.Pixel(f[0],f[1]);a.contains(f)||this.bb(d,c)}},bb:function(a,c){var d=this.p[a];d.parentNode===this.g&&this.g.removeChild(d);this.reuseTiles?this.u[c][a]=d:d.src=e.Util.na;delete this.p[a]},Ub:function(a){for(var c=[],d=a.jc(),f=a.l.y;f<=a.k.y;f++)for(var j=a.l.x;j<=a.k.x;j++)this.p[j+","+f]||
c.push(new e.Pixel(j,f,n));c.sort(function(a,c){return a.hb(d)-c.hb(d)});a=document.createDocumentFragment();this.ja=c.length;for(f=0;f<c.length;f++)this.Hb(c[f],a);this.g.appendChild(a)},Hb:function(a,c){var d=this.Pb(a),f=this.map.level,e=Math.pow(2,this.ab(f));if(this.continuousWorld){if(this.noWrap){if(0>a.x||a.x>=e){this.ja--;return}}else a.x=(a.x%e+e)%e;if(0>a.y||a.y>=e){this.ja--;return}}var e=a.x+","+a.y,h;this.reuseTiles&&this.u[f][e]?(h=this.u[f][e],this.u[f][e]=r,delete this.u[f][e]):(h=
this.Lb(),h.style.left=d.x+"px",h.style.top=d.y+"px",h.zb=d,this.Da(h,a,f));this.p[e]=h;c.appendChild(h)},Lb:function(){var a=e.d.create("img");e.d.Sa(a,"position:absolute;");e.d.H(a,0);e.d.I&&(a.style[e.d.I]="opacity 0.25s ease-out 0s");e.q.kb&&(a.galleryimg="no");a.style.width=a.style.height=this.tileSize+"px";a.style[e.d.Eb]="none";a.onselectstart=a.onmousemove=function(){return t};return a},Pb:function(a){return a.O(this.tileSize,n).t(this.map.wa,n)},Da:function(a,c,d){a.map=this.map;a.vc=this;
a.onload=this.bc;a.src=this.getTileUrl(c.x,c.y,this.ab(d));a.onerror=x()},bc:function(){var a=this.map,c=this.vc;e.d.H(this,c.opacity);c.ja--;c.ja||(window.clearTimeout(a.i.fb),a.i.fb=setTimeout(function(){a.contains.cac.style.visibility="hidden"},1E3),a.c(c,"complete"))},ab:function(a){return a+this.zoomOffset},Jb:function(){var a=this.map.contains;a.lays.replaceChild(this.g,a.cac);this.g.style.visibility="visible";this.g.style.zIndex=-1;this.g.removeAttribute("id");a.cac=this.g;a=this.p;this.p=
{};this.ia(this.map);return a},eb:function(a){e.d.H(this.g,a||this.opacity)},getTileUrl:function(a,c,d){var f=this.tileUrl,e;if(e=f.match(/\{.*\}/))var h=e.toString().replace("{","").replace("}",""),h=h.split(","),h=h[Math.abs(a+c)%h.length],f=f.replace(e,h);return f.replace("[x]",a).replace("[y]",c).replace("[z]",d)},getTileSize:y("tileSize"),hide:function(){this.g.style.visibility="hidden"},show:function(){this.g.style.visibility="visible"},setzIndex:function(a){this.zIndex=a;this.g.style.zIndex=
a},setOpacity:function(){for(var a in this.p)e.d.H(this.p[a],this.opacity)},getTiles:function(){var a=[],c;for(c in this.$c)a.push(c);return a},reload:function(){this.Na()}});e.TileLayer.Satellite=p({},e.TileLayer,{initialize:function(a){a=a||{};this.id="t"+e.Util.guid();this.tileSize=a.tileSize||256;this.tileUrl=e.Conf.satelliteUrl;this.opacity=this.zIndex=1;this.zooms=[3,18];this.zoomOffset=this.detectRetina=this.noWrap=this.continuousWorld=t;this.reuseTiles=n;this.Tb=this.Vb=0;this.p={};this.u=
{};for(var c in a)"_"!=c.substr(0,1)&&this[c]!=l&&(this[c]=a[c]);this.detectRetina&&(1<window.devicePixelRatio&&0<this.zooms[1])&&(this.tileSize=Math.floor(this.tileSize/2),this.zoomOffset++,0<this.zooms[0]&&this.zooms[0]--,this.zooms[1]--);return this}});e.TileLayer.WMS=p({_type:"wmslayer",initialize:function(a){this.id="t"+e.Util.guid();this.errorUrl=e.Util.na;this.opacity=this.zIndex=1;for(var c in a)"_"!=c.substr(0,1)&&this[c]!=l&&(this[c]=a[c]);return this},xb:function(a){this.map=a;this.ia(a);
this.S()},ia:function(a){var c=this.g=document.createElement("div");c.id=this.id;c.style.cssText="position:absolute;left:0;top:0;z-index:"+this.zIndex;this.eb();a.contains.lay.appendChild(c)},Na:function(){this.S()},S:function(){var a=this.map,c=this.g;c.hasChildNodes()?(c=c.children[0],e.d.H(c,0),c.src=e.Util.na):(c=e.d.create("img",c),e.d.Sa(c,"position:absolute;left:0;top:0;width:"+a.width+"px;height:"+a.height+"px;opacity:0;"),c.style[e.d.I]="opacity 0.25s ease-out 0s");e.d.U(c,a.pa().D(-1));
this.Da(c)},Da:function(a){var c=this.map,d=this;a.onload=function(){e.d.H(a,1);c.c(d,"complete")};var f=this.map.getBounds();a.src=this.getTileUrl(f);a.onerror=function(){c.c(d,"error")}},eb:function(a){e.d.H(this.g,a||this.opacity)},getTileUrl:function(a){var c=this.Yc;return"http://vmap0.tiles.osgeo.org/wms/vmap0?LAYERS=basic&SERVICE=WMS&VERSION=1.1.1&REQUEST=GetMap&STYLES=&FORMAT=image%2Fjpeg&SRS=EPSG%3A4326&BBOX="+[a.Jc.Cc,a.Jc.tc,a.Fc.Cc,a.Fc.tc].join()+"&WIDTH="+c.width+"&HEIGHT="+c.height},
hide:function(){this.g.style.visibility="hidden"},show:function(){this.g.style.visibility="visible"},setzIndex:function(a){this.zIndex=a;this.g.style.zIndex=a},setOpacity:function(a){this.opacity=a;e.d.H(this.g,a)}});var s=navigator.userAgent.toLowerCase(),w=!!window.ActiveXObject,z=/msie 7.0/i.test(s),E=/msie 8.0/i.test(s),C=-1!==s.indexOf("webkit"),D="undefined"!==typeof orientation?n:t,G=-1!==s.indexOf("android"),F=window.opera;e.q={jb:w,kb:w&&!window.XMLHttpRequest,rc:z,td:E,mb:/msie 9.0/i.test(s),
lb:/msie 6.0/i.test(s)||z||E,Ld:C,Ua:C&&"WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix,md:-1!==s.indexOf("gecko"),opera:!!F,bd:G,Cd:D&&C,Bd:D&&F,Ad:D,Kd:function(){var a=t;if("ontouchstart"in document.documentElement)return n;var c=document.createElement("div");if(!c.setAttribute||!c.removeAttribute)return t;c.setAttribute("ontouchstart","return;");"function"===typeof c.ontouchstart&&(a=n);c.removeAttribute("ontouchstart");return a}(),nb:!!document.createElementNS&&!!document.createElementNS("http://www.w3.org/2000/svg",
"svg").createSVGRect,yd:!!document.createElement("canvas").getContext};e.Util={isIE:/msie/i.test(navigator.userAgent),isIE9:this.isIE&&0==window.ScriptEngineMinorVersion(),userSelect:function(a){"WebkitUserSelect"in document.documentElement.style?a.style.WebkitUserSelect="none":"MozUserSelect"in document.documentElement.style?a.style.MozUserSelect="none":"OUserSelect"in document.documentElement.style?a.style.Rc="none":"msUserSelect"in document.documentElement.style?a.style.Ed="none":a.unselectable=
"on"},kc:function(a){return document.getElementById(a)},cd:function(a,c){for(var d=0;d<c.length;d++)if(a==c[d])return d;return t},fixPng:function(a){if(0!=a.width)a.outerHTML='<div style="filter:progid:DXImageTransform.Microsoft.Matrix(sizingmethod=\'auto expand\')"><span style="width:'+a.width+"px;height:"+a.height+"px;display:inline-block;filter:progid:DXImageTransform.Microsoft.AlphaImageLoader(src='"+a.src+"',sizingMethod='scale');\"></span></div>";else{var c=new Image;c.src=a.src;a.outerHTML=
'<div style="filter:progid:DXImageTransform.Microsoft.Matrix(sizingmethod=\'auto expand\')"><span style="width:'+c.width+"px;height:"+c.height+"px;display:inline-block;filter:progid:DXImageTransform.Microsoft.AlphaImageLoader(src='"+a.src+"',sizingMethod='scale');\"></span></div>"}},Pa:function(a){return new e.Pixel(a.clientWidth||document.body.clientWidth,a.clientHeight||(this.isIE?"CSS1Compat"==document.compatMode?document.documentElement.clientHeight:document.body.clientHeight:self.innerHeight))},
guid:function(){return Math.round(1E5*Math.random())},cookieEnabled:function(){return navigator.cookieEnabled},transform:function(){for(var a=["WebkitTransform","MozTransform","OTransform","msTransform"],c=0;c<a.length;c++)if(a[c]in document.documentElement.style)return a[c];return t},na:"data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=",wb:function(){for(var a="",c=1;32>=c;c++)if(a+=Math.floor(16*Math.random()).toString(16),8==c||12==c||16==c||20==c)a+="-";return a}};e.$=e.Util.kc;e.d=
{Mc:function(a){return"string"===typeof a?document.getElementById(a):a},da:function(a,c){return a.style[c]||(a.currentStyle||document.defaultView.getComputedStyle(a,r))[c]},sd:function(a){return new e.Tc(a.clientWidth||document.body.clientWidth,a.clientHeight||(e.q.jb?"CSS1Compat"==document.compatMode?document.documentElement.clientHeight:document.body.clientHeight:self.innerHeight),n)},qc:function(a){var c=0,d=0,f=a,j=document.body;do{c+=f.offsetTop||0;d+=f.offsetLeft||0;if(f.offsetParent===j&&"absolute"===
e.d.da(f,"position"))break;if("fixed"===e.d.da(f,"position")){c+=j.scrollTop||0;d+=j.scrollLeft||0;break}f=f.offsetParent}while(f);f=a;do{if(f===j)break;c-=f.scrollTop||0;d-=f.scrollLeft||0;f=f.parentNode}while(f);return new e.Pixel(d,c)},create:function(a,c,d){a=document.createElement(a);d&&(a.className=d);c&&c.appendChild(a);return a},jd:function(){document.selection&&document.selection.empty&&document.selection.empty();this.Fa||(this.Fa=document.onselectstart,document.onselectstart=e.Wc.ld)},kd:function(){document.onselectstart=
this.Fa;this.Fa=r},H:function(a,c){if(e.q.lb){var d="alpha(opacity="+Math.round(100*c)+")";1==c?(a.style.filter="",a.style.removeAttribute("opacity")):a.style.filter=d}else a.style.opacity=c},Ta:function(a){for(var c=document.documentElement.style,d=0;d<a.length;d++)if(a[d]in c)return a[d];return t},pc:function(a){var c=e.q.Ua;return"translate"+(c?"3d":"")+"("+a.x+"px,"+a.y+"px"+((c?",0":"")+")")},oc:function(a,c){return e.d.pc(c.add(c.O(-1*a)))+(" scale("+a+") ")},U:function(a,c){a.Ra=c;a.style.left=
c.x+"px";a.style.top=c.y+"px"},oa:function(a){a.Ra||(a.Ra=new e.Pixel(parseInt(a.style.left),parseInt(a.style.top)));return a.Ra},Hd:function(a){-1=="relative,absolute".indexOf(this.da(a,"position"))&&(a.style.position="relative");""!=this.da(a,"backgroundColor")&&""!=this.da(a,"backgroundImage")&&(a.style.backgroundColor="rgb(247,249,251)")},Sa:function(a,c){a=a instanceof Array?a:[a];for(var d=0;d<a.length;d++)a[d].style.cssText=c},Id:function(a,c){a=a instanceof Array?a:[a];for(var d=0;d<a.length;d++)for(var f in c)a[d].style[f]=
c[f]},nc:function(a,c){var d=new e.Pixel(a.pageX?a.pageX:a.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,a.pageY?a.pageY:a.clientY+document.body.scrollTop+document.documentElement.scrollTop);return c?d.t(e.d.qc(c)):d},ed:function(a){var c={};c.yb=this.create("div",a.g,"mcjt");c.yb.style.cssText="position:relative;width:100%;height:100%;overflow:hidden;";c.root=this.create("div",c.yb);c.Bc=this.create("div",c.root);c.Va=this.create("div",c.root);c.info=this.create("div",c.Va);
c.la=this.create("div",c.Va);this.Sa([c.root,c.Bc,c.Va,c.info,c.la],"position:absolute;left:0;top:0;");a.Ma=c},Bb:function(a){return a.replace(/([A-Z])/g,function(a){return"-"+a.toLowerCase()})}};v(e.d,{I:e.d.Ta(["webkitTransition","OTransition","MozTransition","msTransition","transition"]),Wa:e.d.Ta(["WebkitTransform","OTransform","MozTransform","msTransform","transformProperty"]),Vc:"translate"+(e.q.Ua?"3d(":"("),Uc:e.q.Ua?",0)":")",Eb:e.d.Ta(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect",
"msUserSelect"])});v(e.d,{Db:"webkitTransition"===e.d.I||"OTransition"===e.d.I?e.d.I+"End":"transitionend"});s={isIE:/msie/i.test(navigator.userAgent),isIE6:/msie 6.0/i.test(navigator.userAgent),isIE9:/msie 9.0/i.test(navigator.userAgent),isWebkit:/webkit/i.test(navigator.userAgent),isGecko:/gecko/i.test(navigator.userAgent)&&!/like gecko/i.test(navigator.userAgent),isOpera:/opera/i.test(navigator.userAgent),nb:function(){return!!document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#Shape",
"1.1")},addEvent:function(a,c,d){a.addEventListener?a.addEventListener(c,d,t):a.attachEvent?a.attachEvent("on"+c,d):a["on"+c]=d},removeEvent:function(a,c,d){a.removeEventListener?a.removeEventListener(c,d,t):a.detachEvent?a.detachEvent("on"+c,d):a["on"+c]=r},formatEvent:function(a){this.isIE&&(a.charCode="keypress"==a.type?a.keyCode:0,a.eventPhase=2,a.isChar=0<a.charCode,a.pageX=a.clientX+document.body.scrollLeft,a.pageY=a.clientY+document.body.scrollTop,a.preventDefault=function(){this.returnValue=
t},"mouseout"==a.type?a.relatedTarget=a.toElement:"mouseover"==a.type&&(a.relatedTarget=a.fromElement),a.stopPropagation=function(){this.cancelBubble=n},a.target=a.srcElement,a.time=(new Date).getTime());this.isGecko&&(a.offsetX=a.layerX,a.offsetY=a.layerY);a.wheelDelta&&(a.detail=a.wheelDelta);return a},stopPropagation:function(a){a.stopPropagation?(a.stopPropagation(),a.preventDefault()):(a.cancelBubble=n,a.returnValue=t)},drag:function(a,c,d,f){function e(a){a=a||window.event;d(a)}var h=this;h.addEvent(a,
"mousedown",function(a){a=a||window.event;c(a);h.addEvent(document,"mousemove",e);h.addEvent(document,"mouseup",function(a){a=a||window.event;f(a);h.removeEvent(document,"mousemove",e);h.removeEvent(document,"mouseup",arguments.callee)})})},vb:function(a,c){document.addEventListener&&a.addEventListener("DOMMouseScroll",c,t);a.onmousewheel=c},c:function(a,c,d){d=d||{};d.mapId=this.id;d.overlay=a._type;this.n[a._type]||(this.n[a._type]=[]);for(var f=0;f<this.n[a._type].length;f++)this.n[a._type][f].name==
c&&this.n[a._type][f].obj==a&&this.n[a._type][f].func(d)}};w=p({Rb:function(){this.G=0;this.j={};this.i={ob:0,alpha:0,T:0,ca:0,fb:0};this.level=Math.min(Math.max(this.level,this.zooms[0]),this.zooms[1]);this.wa=this.m(this.center).t((new AMap.Pixel(this.width,this.height)).D(2));this.f={w:t,x:this.width/2,y:this.height/2,lnglat:this.center};this.Ib();this.pb(this.defaultTileLayer)},pb:function(a){if(this.j[a.id])return t;this.j[a.id]=a;a.xb(this)},rb:function(a){if(!this.j[a.id]||a.ec)return t;this.j[a.id].Gc(this);
this.j[a.id]=r;delete this.j[a.id];return n},wc:function(){for(var a in this.j)this.rb(this.j[a])},qb:function(){e.d.U(this.contains.root,new e.Pixel(0,0));this.wa=this.m(this.center).t((new e.Pixel(this.width,this.height)).D(2));for(var a in this.j)this.j[a].Na();this.c(this,"mapmove")},sb:function(){for(var a in this.j)this.j[a].S();this.c(this,"mapmove")},qa:function(){for(var a in this.j)this.j[a].show()},xc:function(){for(var a in this.j)this.j[a].hide()},Ib:function(){var a=this.contains.lays,
c=this,d=0,f=0,j=0,h=0,c=this,k=0,m=0,q=0,p=0;this.drag(a,function(a){window.clearInterval(c.i.ca);d=j=parseInt(a.clientX);f=h=parseInt(a.clientY);k=(new Date).getTime();c.stopPropagation(a)},function(a){a.lnglat=c.f.lnglat;0==p&&(c.c(c,"dragstart",a),c.g.style.cursor="url("+c.client+"/images/closedhand.cur),pointer");c.dragEnable&&(c.r(a.clientX-d,a.clientY-f),d=a.clientX,f=a.clientY,window.clearTimeout(q),q=setTimeout(function(){m=0},50),m=1);c.c(c,"dragging",a);p=1},function(a){p=0;a.lnglat=c.f.lnglat;
if(c.dragEnable&&c.jogEnable&&1==m){k=(new Date).getTime()-k;j=a.clientX-j;h=a.clientY-h;var d=Math.sqrt(Math.pow(j,2)+Math.pow(h,2));if(0.001<2*d/Math.pow(k,2)){window.clearInterval(c.i.ca);var f=0;c.i.ca=setInterval(function(){var a=e.Tween.Cubic.easeOut,a=a(f,0,d/2,10)-a(f-1,0,d/2,10);c.r(Math.round(j/d*a),Math.round(h/d*a));10<=f&&(window.clearInterval(c.i.ca),c.i.ca=0,c.c(c,"dragend"));f++},40)}else 0!=d&&c.c(c,"dragend",a)}else 0!=a.clientX-j&&0!=a.clientY-h?c.c(c,"dragend",a):c.v(a,"click");
c.g.style.cursor="default"==c.R.map?c.R.map:"url("+c.R.map+"),pointer"});this.addEvent(a,"dblclick",function(a){c.doubleClickZoom&&c.level<c.zooms[1]&&c.z(c.level+1);c.v(a,"dblclick");c.stopPropagation(a)});this.vb(a,function(a){a=a||window.event;a.gc=a.wheelDelta?a.wheelDelta/120:-a.detail/3;a.preventDefault?a.preventDefault():a.returnValue=t;c.scrollWheel&&!c.G&&setTimeout(function(){0<a.gc?c.z(c.level+1):c.z(c.level-1)},1);c.v(a,"mousewheel")});this.isIE?(this.addEvent(a,"mouseenter",function(a){c.f.w=
n;c.v(a,"mouseover")}),this.addEvent(a,"mouseleave",function(a){c.f.w=t;c.v(a,"mouseout")})):(this.addEvent(a,"mouseover",function(a){var d=a.relatedTarget;d&&!(d.compareDocumentPosition(this)&8)&&(c.f.w=n,c.v(a,"mouseover"))}),this.addEvent(a,"mouseout",function(a){var d=a.relatedTarget;d&&!(d.compareDocumentPosition(this)&8)&&(c.f.w=t,c.v(a,"mouseout"))}));this.addEvent(a,"mousedown",function(a){c.v(a,"mousedown")});this.addEvent(a,"mouseup",function(a){c.v(a,"mouseup")});this.addEvent(a,"mousemove",
function(a){a.pixel=c.Ec(a);a.lnglat=c.K(a.pixel);c.f={x:a.pixel.x,y:a.pixel.y,w:n,lnglat:a.lnglat};c.v(a,"mousemove")});this.addEvent(a,"contextmenu",function(a){c.stopPropagation(a);c.v(a,"rightclick")});this.addEvent(document,"keydown",function(a){if(c.f.w&&c.keyboardEnable)switch(a.keyCode){case 107:c.z(c.level+1);c.stopPropagation(a);break;case 109:c.z(c.level-1);c.stopPropagation(a);break;case 37:c.r(5,0);c.stopPropagation(a);break;case 38:c.r(0,5);c.stopPropagation(a);break;case 39:c.r(-5,
0);c.stopPropagation(a);break;case 40:c.r(0,-5);c.stopPropagation(a);break;case 187:e.q.mb&&(c.z(c.level+1),c.stopPropagation(a));break;case 189:e.q.mb&&(c.z(c.level-1),c.stopPropagation(a))}})},v:function(a,c){a.pixel=new e.Pixel(this.f.x,this.f.y);a.lnglat=this.f.lnglat;this.c(this,c,a)},yc:function(a){var c=this.f.w?new e.Pixel(this.f.x,this.f.y):(new e.Pixel(this.width,this.height)).D(2),c=this.ba(c),d=a-this.level,f=Math.pow(2,-d),j=this.ea(c);if(0!=d&&this.f.w){var h=this.center.O(Math.pow(2,
d),n),k=this.f.lnglat.O(Math.pow(2,d)-1,n);this.center=h.t(k)}h=this.contains;k=this.defaultTileLayer.Jb();e.d.U(h.cac,e.d.oa(h.root));e.d.U(h.root,new e.Pixel(0,0));this.xc();this.Hc();this.continuousZoomEnable&&!e.q.jb?this.Ac(f,c):this.continuousZoomEnable&&1==Math.abs(d)?this.zc(j,a,-d,k):(this.qa(),this.ra());this.qb();this.Oa()},Ac:function(a,c){var d=this.contains.cac,f=this,j=e.d.I;d.style[j+"Property"]=e.d.Bb(e.d.Wa);d.style[j+"Duration"]="0.25s";d.style[j+"TimingFunction"]="ease-in-out";
f.G=1;f.addEvent(d,e.d.Db,function(){f.qa();f.ra();f.G=0});window.clearInterval(f.i.ob);f.i.ob=setTimeout(function(){f.G&&(f.qa(),f.ra(),f.G=0)},1E3);setTimeout(function(){d.style[e.d.Wa]=e.d.oc(a,c)},20)},zc:function(a,c,d,f){function e(){var a=s*q,c=v.O(d*q*p),u;for(u in f){var z=u.split(","),w=f[u];w.style.height=w.style.width=k+a+"px";w.style.left=w.zb.x-(m.x-z[0])*a-c.x+"px";w.style.top=w.zb.y-(m.y-z[1])*a-c.y+"px"}4<=q?(h.qa(),h.ra(),h.G=0):setTimeout(e,100);q++}var h=this,k=this.defaultTileLayer.tileSize,
m=a.D(k,n);c=m.O(k);this.Ha(c);a=a.t(c,n);var q=1,p=Math.pow(2,d),s=256*(p-1)/4,v=a.D(4);h.G=1;e()}});z=p({Sb:function(){this.o=t;this.ac()},Hc:function(){this.contains.mk.style.visibility="hidden";this.contains.re.style.visibility="hidden"},ra:function(){this.contains.mk.style.visibility="visible";this.contains.re.style.visibility="visible"},X:function(a){this.h[a.id]&&this.Z(this.h[a.id]);a.a=this;this.h[a.id]=a;"marker"==a._type&&this.contains.mk.appendChild(a.F());-1<"polyline,polygon,circle".indexOf(a._type)&&
(this.o==t&&(this.o=e.q.nb?new e.Cb(this):new e.Fb(this)),this.o[a._type](a,this));a.Q()},Z:function(a){this.h[a.id]&&(this.h[a.id].ga(),this.h[a.id]=r,delete this.h[a.id])},Oa:function(){var a=[],c;for(c in this.h)a.push(this.h[c]),this.Z(this.h[c]);for(c=0;c<a.length;c++)this.X(a[c]);if(this.isOpera&&this.o.Y){var d=this.o,f=d.b;setTimeout(function(){f.setAttribute("viewBox",(d.A-5).toFixed(0)+" "+(d.B-5).toFixed(1)+" "+(d.M-d.A+10).toFixed(1)+" "+(d.N-d.B+10).toFixed(1))},500)}},Ba:function(a){var c=
this.contains.ti;c.style.visibility="hidden";c.innerHTML="";a&&this.C&&(this.C.isOpen=t,this.C=r,delete this.C)},ac:function(){function a(){c.dragEnable=d;c.removeEvent(document,"mouseup",a)}var c=this,d;this.addEvent(this.contains.ti,"mousedown",function(){d=c.dragEnable;c.dragEnable=t;c.addEvent(document,"mouseup",a)})},Ja:function(){if(this.C){var a=this;this.contains.ti.style.visibility="hidden";setTimeout(function(){a.C.open(a,a.C.position)},300)}},vd:function(){this.contains.ti.style.visibility=
"hidden"},wd:function(){this.contains.ti.style.visibility="visible"}});e.Tween={Linear:function(a,c,d,f){return d*a/f+c},Cubic:{easeIn:function(a,c,d,f){return d*(a/=f)*a*a+c},easeOut:function(a,c,d,f){return d*((a=a/f-1)*a*a+1)+c},easeInOut:function(a,c,d,f){return 1>(a/=f/2)?d/2*a*a*a+c:d/2*((a-=2)*a*a+2)+c}}};e.Map=p(e.Conf,s,w,z,{Qb:function(){var a=document.createElement("div");a.style.cssText="width:108px;height:73px;overflow:hidden;position:absolute;visibility:hidden;z-index:200;display:none";
a.onselectstart=a.onmousemove=function(){return t};var c=this;this.vb(a,function(a){c.stopPropagation(a)});var d=new Image;d.style.cssText="width:67px;height:16px;position:absolute;left:0;bottom:0px;z-index:200";d.src=this.client+"/images/autonavi.png";d.className="tip_mapabc";this.g.appendChild(d);d=document.createElement("div");d.id="_copyright_"+this.id;d.style.cssText="width:auto;height:14px;line-height:14px;font-size:11px; font-family:Arial,sans-serif;white-space:nowrap;position:absolute;right:5px;bottom:0;z-index:200";
d.innerHTML=this._copyright;e.Util.userSelect(d);for(var f=d.firstChild;f;)f.style&&(f.style.lineHeight="100%"),f=f.nextSibling;this.hd=d;this.g.appendChild(d);d=[];d.push('<div style="width:6px;height:4px;overflow:hidden;border-right:#F00 solid 2px;border-bottom:#F00 solid 2px;position:absolute;left:0;top:0;"></div>');d.push('<div style="width:6px;height:4px;overflow:hidden;border-left:#F00 solid 2px;border-bottom:#F00 solid 2px;position:absolute;left:100px;top:0;"></div>');d.push('<div style="width:6px;height:4px;overflow:hidden;border-top:#F00 solid 2px;border-left:#F00 solid 2px;position:absolute;left:100px;top:67px;"></div>');
d.push('<div style="width:6px;height:4px;overflow:hidden;border-top:#F00 solid 2px;border-right:#F00 solid 2px;position:absolute;left:0;top:67px;"></div>');a.innerHTML=d.join("");this.T=a;this.contains.frame.appendChild(a)},Mb:function(a){var c=this.T;if(5>this.f.x||5>this.f.y||this.f.x>this.width-5||this.f.y>this.height-5||this.f.w==t)this.f.x=this.width/2,this.f.y=this.height/2;c.style.left=this.f.x-54+"px";c.style.top=this.f.y-36.5+"px";var d=0,f=this;window.clearInterval(f.i.T);this.i.T=0<a?setInterval(function(){var a=
9.5*(4-d),e=5.75*(4-d);c.children[2].style.left=a+"px";c.children[2].style.top=e+"px";c.children[3].style.left=108-a-9+"px";c.children[3].style.top=e+"px";c.children[0].style.left=108-a-9+"px";c.children[0].style.top=63-e+"px";c.children[1].style.left=a+"px";c.children[1].style.top=63-e+"px";5<=d?(window.clearInterval(f.i.T),c.style.visibility="hidden"):c.style.visibility="visible";d++},80):setInterval(function(){var a=9.5*d,e=5.375*d;c.children[0].style.left=a+"px";c.children[0].style.top=e+"px";
c.children[1].style.left=99-a+"px";c.children[1].style.top=e+"px";c.children[2].style.left=99-a+"px";c.children[2].style.top=64-e+"px";c.children[3].style.left=a+"px";c.children[3].style.top=64-e+"px";5<=d?window.clearInterval(f.i.T):c.style.visibility="visible";d++},120)},Gb:function(a){var c=this.contains.mc;a._getHtmlDom&&(a._dom=a._getHtmlDom(this));c.parentNode.appendChild(a._dom);a._trigger&&a._trigger()},Yb:function(a){a=a._dom;a.parentNode.removeChild(a)}},{getCenter:function(){return new e.LngLat(this.center.lng,
this.center.lat)},getZoom:y("level"),getZooms:y("zooms"),getSize:function(){return new e.Size(this.width,this.height)},getBounds:function(){return new e.Bounds(this.K(new e.Pixel(0,this.height)),this.K(new e.Pixel(this.width,0)))},getTiles:function(){var a=[],c;for(c in this.defaultTileLayer.p)a.push(c);return a},getStatus:function(){for(var a="dragEnable zoomEnable keyboardEnable jogEnable continuousZoomEnable doubleClickZoom scrollWheel".split(" "),c={},d=0;d<a.length;d++)c[a[d]]=this[a[d]];return c},
getResolution:function(a){return 6378137*2*(a?Math.cos(a.lat*Math.PI/180):1)*Math.PI/(256*Math.pow(2,this.level))},getScale:function(a){a||(a=96);return parseInt(this.getResolution()*a/0.0254)},getDefaultCursor:function(){return this.R.map},setCenter:function(a){a instanceof e.LngLat&&(this.center=a,this.qb(),this.Oa(),this.Ja())},setCity:function(a,c){c=c||x();var d=this;new e.AjaxRequest(e.Conf.server+"/gss/simple?sid=1026&resType=json&encode=utf-8&keyword="+encodeURI(a)+"&key="+e.Conf.key,function(a){a.list&&
0<a.list.length&&d.setZoomAndCenter(a.list[0].level,new e.LngLat(a.list[0].x,a.list[0].y));c()})},setZoom:function(a){this.z(Number(a))},zoomIn:function(){this.z(this.level+1)},zoomOut:function(){this.z(this.level-1)},setZoomAndCenter:function(a,c){c instanceof e.LngLat&&(this.f.w=t,this.level==Number(a)?this.setCenter(c):(this.center=c,this.setZoom(a)))},cb:function(a){for(var c=this.zooms[1];c>this.zooms[0];c--){var d=this.m(a.southwest,c),f=this.m(a.northeast,c);if(Math.abs(f.x-d.x)<this.width&&
Math.abs(d.y-f.y)<this.height)break}return{gb:a.getCenter(),tb:c}},setBounds:function(a,c){c=c?Number(c):0;var d=this.cb(a),f=d.gb,d=d.tb+c;this.level==d?this.setCenter(f):this.setZoomAndCenter(d,f)},setStatus:function(a){var c="dragEnable zoomEnable keyboardEnable jogEnable continuousZoomEnable doubleClickZoom scrollWheel".split(" "),d;for(d in a)"boolean"==typeof a[d]&&(-1!=c.join(",").indexOf(d)&&this[d]!=l)&&(this[d]=a[d])},panTo:function(a){var c=0;this.rotation&&(c=this.rotation,this.setRotation(0));
var d=this.m(this.center,this.level);a=this.m(a,this.level);this.r(Math.round(d.x-a.x),Math.round(d.y-a.y));c&&this.setRotation(c)},panBy:function(a,c){this.r(a,c)},setRotation:function(a){var c=this.contains.lays,d=e.d.TRANSFORM,f=new e.Pixel(this.width/2-this.Ca.x,this.height/2-this.Ca.y);c.style[d+"Origin"]=f.x.toFixed(1)+"px "+f.y.toFixed(1)+"px";c.style[d]="rotate("+a+"deg)";this.rotation=a},clearMap:function(){this.clearbind();this.clearOverlays();this.clearInfoWindow();this.wc()},destroy:function(){for(var a=
this.g,c=a.getElementsByTagName("*");0<c.length;)a.removeChild(c[0])},setDefaultCursor:function(a){this.R.map=a?a:"default";this.g.style.cursor="default"==this.R.map?"default":"url("+a+"),pointer"},addLayer:function(a){this.pb(a)},getLayer:function(a){for(var c in this.j)if(a==this.j[c].id)return this.j[c];return t},removeLayer:function(a){if(!this.j[a])return t;this.rb(this.j[a])},addOverlays:function(a){if(a instanceof Array)for(var c=0;c<a.length;c++)this.X(a[c]);else this.X(a);return n},getOverlays:function(a){if(a instanceof
Array){for(var c=[],d=0;d<a.length;d++)this.h[a[d]]&&c.push(this.h[a[d]]);return c}return this.h[a]?this.h[a]:t},getOverlaysByType:function(a){var c=[];for(id in this.h)this.h[id]._type==a&&c.push(this.h[id]);return c},updateOverlay:function(a){if(a instanceof Array)for(var c=0;c<a.length;c++)this.X(a[c]);else this.X(a);return n},removeOverlays:function(a){if(a instanceof Array)for(var c=0;c<a.length;c++){var d="object"==typeof a[c]?a[c]:this.h[a[c]];d&&-1<"marker,polyline,polygon,circle".indexOf(d._type)&&
this.Z(d)}else(d="object"==typeof a?a:this.h[a])&&-1<"marker,polyline,polygon,circle".indexOf(d._type)&&this.Z(d)},clearOverlays:function(){for(var a in this.h)this.h[a].Kc&&this.h[a].Kc(),this.Z(this.h[a])},clearOverlaysByType:function(a){for(id in this.h)this.h[id]._type==a&&this.removeOverlays(id)},setFitView:function(a,c){var d,f,j,h;function k(a){d=Math.min(a.lng,d);f=Math.min(a.lat,f);j=Math.max(a.lng,j);h=Math.max(a.lat,h)}a=a||this.h;d=180;f=90;j=-180;h=-90;var m=0,q;for(q in a)if(a[q])if("marker"==
a[q]._type)k(a[q].position),m++;else if("circle"==a[q]._type)a[q].center.offset(-a[q].radius,-a[q].radius),k(a[q].center.offset(-a[q].radius,-a[q].radius)),a[q].center.offset(a[q].radius,a[q].radius),k(a[q].center.offset(a[q].radius,a[q].radius)),m+=2;else if(a[q]._type)for(var p=a[q].path,s=0;s<p.length;s++)k(p[s]),m++;if(1>=m)return t;m=new e.Bounds(new e.LngLat(d,f),new e.LngLat(j,h));this.setBounds(m,c)},clearInfoWindow:function(){this.Ba(n)},setMouseTool:function(a,c){c=c||{};var d=this;"panWheelZoom"==
a&&(a="close",c=t);if(-1<"marker,polyline,circle,rule,rectZoomIn,rectZoomOut,polygon,rectangle,measureArea,panWheelZoom,close".indexOf(a))if(this.Ea)this.Ea[a](c);else this.plugin("AMap.MouseTool",function(){d.Ea=new e.MouseTool(d);d.Ea[a](c)})},bind:function(a,c,d,f){f||(f="default");this.n[a._type]||(this.n[a._type]=[]);this.n[a._type].push({obj:a,name:c,func:d,cate:f})},unbind:function(a,c,d){if(a!=l&&c!=l&&d!=l)for(var f=0;f<this.n[a._type].length;f++)this.n[a._type][f].obj==a&&(this.n[a._type][f].name==
c&&this.n[a._type][f].func.toString()==d.toString())&&(this.n[a._type].splice(f,1),f--)},clearbind:function(a){a||(a="default");for(var c in this.n)for(var d=this.n[c],f=0;f<d.length;f++)"system"!=d[f].cate&&d[f].cate==a&&(d.splice(f,1),f--)},trigger:function(a,c,d){this.c(a,c,d)},getLngLatByOffset:function(a,c,d){return a.offset(c,d)},getDistance:function(a,c){return a.distance(c)},lnglatToPixel:function(a,c){return this.m(a,c)},pixelToLngLat:function(a,c){return this.W(a,c)},containTolnglat:function(a){return this.K(a)},
lnglatTocontainer:function(a){return this.Dc(a)},addControl:function(a){a&&"object"==typeof a&&this.Gb(a)},removeControl:function(a){this.Yb(a)},plugin:function(a,c){"string"==typeof a&&(a=[a]);for(var d=0;d<a.length;d++){try{eval("new "+eval(a[d]))}catch(f){continue}a.splice(d,1);d--}0==a.length?c():(a=a.join(","),d=e.Conf.client+"/plugin?cls="+a,e.Util.cookieEnabled()||(d+="&key="+e.Conf.key),new e.AjaxRequest(d,c,n))}},{_type:"map",initialize:function(a,c){this.R={map:"default"};if(a){"string"==
typeof a&&(a=document.getElementById(a));this.g=a;this.width=e.Util.Pa(a).x;this.height=e.Util.Pa(a).y;this.bounds=e.Conf.bounds;this.defaultTileLayer=new e.TileLayer({id:"base",tileUrl:this.mapUrl});this.crs="EPSG3857";this.Ca=new e.Pixel(0,0);this.h={};this.n={map:[],zd:[],Gd:[],Fd:[],dd:[],ud:[],gd:[]};var d=(new Date).getTime();this.defaultTileLayer.ec=n;this.defaultTileLayer.zooms[0]=Math.min(this.defaultTileLayer.zooms[0],this.zooms[0]);this.defaultTileLayer.zooms[1]=Math.max(this.defaultTileLayer.zooms[1],
this.zooms[1]);this.Qa=u[this.crs];if(!this.Qa)throw Error("\u4e0d\u652f\u6301\u60a8\u6240\u6307\u5b9a\u7684\u5750\u6807\u7cfb\uff01");var f=this.bounds;b=new e.Bounds(new e.LngLat(f[0],f[1]),new e.LngLat(f[2],f[3]));g=this.cb(b);this.center=g.gb;this.level=g.tb;this.rotation=0;c=c||{};for(var j in c)"_"!=j.substr(0,1)&&this[j]!=l&&(this[j]=c[j]);this.L=this.level;this.id=this.id=e.Util.guid();if(""==a.style.position&&"static"==(a.currentStyle||document.defaultView.getComputedStyle(a,r)).position)a.style.position=
"relative";this.Kb();this.Rb();this.Sb();this.Qb();this.resizeEnable&&this.Wb(d);window._itd_?window._itd_.push(this):window._itd_=[this]}},Kb:function(){var a=document.createElement("div");a.className="mcjt";a.style.cssText="position:relative;width:100%;height:100%;overflow:hidden;z-index:100;";var c=document.createElement("div");c.style.cssText="width:100%;position:absolute;left:0px;top:0px;";var d=document.createElement("div");d.style.cssText="position:absolute;left:0px;top:0px;";var f=document.createElement("div");
f.style.cssText="position:absolute;left:0px;top:0px;z-index:-1;";d.appendChild(f);var e=document.createElement("div");e.style.cssText="position:absolute;left:0px;top:0px;z-index:100;";d.appendChild(e);var h=document.createElement("div");h.style.cssText="position:absolute;left:0px;top:0px;z-index:110;";d.appendChild(h);var k=document.createElement("div");k.style.cssText="position:absolute;left:0px;top:0px;z-index:120;";d.appendChild(k);var m=document.createElement("div");m.style.cssText="position:absolute;left:0px;top:0px;z-index:130;";
d.appendChild(m);c.appendChild(d);var q=document.createElement("div");q.style.cssText="position:absolute;left:0px;top:0px;";var p=document.createElement("div");p.style.cssText="position:absolute;left:0px;top:0px;";p.style.cssText="position:absolute;left:0px;top:0px;z-index:140;";q.appendChild(p);p=document.createElement("div");p.style.cssText="position:absolute;left:0px;top:0px;z-index:150;visibility:hidden;";q.appendChild(p);c.appendChild(q);a.appendChild(c);q=document.createElement("div");q.style.cssText=
"width:100%;position:absolute;left:0px;top:0px;";a.appendChild(q);this.g.appendChild(a);this.contains={mc:a,frame:q,root:c,cac:f,lays:d,lay:e,re:h,mk:k,me:m,ti:p}},Wb:function(a){function c(){if(!d.G){var a=new e.Pixel(d.width,d.height),c=e.Util.Pa(d.g);a.hc(c)||(a=a.t(c).D(2,n),d.Xb(a),d.width=c.x,d.height=c.y,d.sb(),d.Oa(),d.Ja(),d.c(d,"resize",d))}}a=(new Date).getTime()-a;var d=this;this.isIE&&!this.isIE9?this.addEvent(this.g,"resize",c):this.Zc=setInterval(c,1E3);var f=document.createElement("div");
f.style.cssText="visibility:hidden;";var j=document.createElement("script");j.src=this.client+"/count?v="+this.version+"&k="+e.Conf.key+"&u="+window.location.href+"&t="+a+"&c="+this.center.toString();j.onerror=function(){f.removeChild(j)};f.appendChild(j);this.contains.mc.appendChild(f)},Xb:function(a){var c=this.contains.root;a=e.d.oa(c).t(a);e.d.U(c,a)},r:function(a,c){var d=new e.Pixel(Number(a.toFixed(1)),Number(c.toFixed(1))),f=this.contains.root;e.d.U(f,e.d.oa(f).add(d));this.center=this.K((new e.Pixel(this.width,
this.height)).D(2));this.sb()},z:function(a){if(!(a<this.zooms[0]||a>this.zooms[1])&&Number(a)!=this.level&&this.zoomEnable)this.Ba(),this.L=this.level,this.level=Number(a),this.yc(this.L),0!=this.level-this.L&&this.Mb(this.level-this.L),this.c(this,"zoomchange",{L:this.L}),this.Ja(),this.Ca=new e.Pixel(0,0)},Nb:function(){var a=this.ea(this.ba(new e.Pixel(0,0))),c=this.ea(this.ba(new e.Pixel(this.width,this.height)));return new e.ya(a,c)},Xc:function(){this.size.Jd();var a=this.K(new e.Pixel(0,this.height)),
c=this.K(new e.Pixel(this.width,0));return new e.Nc(a,c)},pa:function(){return e.d.oa(this.contains.root)},ub:function(a){return e.d.nc(a,this.contains.root)},Ec:function(a){return this.Ka(this.ub(a))},Dd:function(a){return this.La(this.ub(a))},ba:function(a){return a.t(this.pa()).round()},Ka:function(a){return a.add(this.pa()).round()},La:function(a){return this.W(this.ea(a))},fd:function(a){return this.ea(this.ba(a)).round()},nd:function(a){return this.Ka(this.Ha(a)).round()},ea:function(a){return a.add(this.wa).round()},
Ha:function(a){return a.t(this.wa).round()},s:function(a){return this.Ha(this.m(a).round())},K:function(a){return this.La(this.ba(a))},Dc:function(a){return this.Ka(this.s(a))},m:function(a,c){return this.Qa.uc(a,c||this.level)},W:function(a,c,d){return this.Qa.Ic(a,c||this.level,d)}});e.Class=p;e.extend=v;e.Cb=p({Y:"http://www.w3.org/2000/svg",a:t,b:t,A:0,B:0,M:0,N:0,initialize:function(a){var c=document.createElementNS(this.Y,"svg");c.setAttribute("id","ren_"+a.id);c.setAttribute("version",1.1);
c.setAttribute("viewBox","0 0 "+a.width+" "+a.height);c.style.position="absolute";c.style.width=a.width+"px";c.style.height=a.height+"px";c.style.left=0;c.style.top=0;c.style.zIndex=1;this.b=c;this.a=a;a.contains.re.appendChild(c)},ma:function(a,c){0==this.A&&(0==this.M&&0==this.B&&0==this.N)&&(this.A=this.M=a,this.B=this.N=c);this.A=Math.min(a,this.A);this.M=Math.max(a,this.M);this.B=Math.min(c,this.B);this.N=Math.max(c,this.N);node=this.b;node.style.left=this.A-5+"px";node.style.top=this.B-5+"px";
node.style.width=this.M-this.A+10+"px";node.style.height=this.N-this.B+10+"px";node.setAttribute("viewBox",(this.A-5).toFixed(1)+" "+(this.B-5).toFixed(1)+" "+(this.M-this.A+10).toFixed(1)+" "+(this.N-this.B+10).toFixed(1))},polyline:function(a){var c=this.b,d;d=document.createElementNS(this.Y,"path");d.setAttribute("stroke-linjoin","round");d.setAttribute("stroke-linecap","round");d.setAttribute("id",a.id);c.appendChild(d);a.b=d;this.ua(a);this.va(a)},ua:function(a){for(var c=a.b,d=this.a,f=[],j=
180,h=-85,k=0;k<a.path.length;k++)if(a.path[k]&&a.path[k].lng&&a.path[k].lat){var m=d.s(a.path[k]);f.push(m.x.toFixed(1)+","+m.y.toFixed(1));this.ma(m.x,m.y,c.parentNode);j=Math.min(a.path[k].lng,j);h=Math.max(a.path[k].lat,h)}c.setAttribute("d",0<f.length?"M "+f.join(" "):"M 1,1");a.J=new e.LngLat(j,h)},va:function(a){var c=a.b;c.setAttribute("fill","none");c.setAttribute("stroke",a.strokeColor);c.setAttribute("stroke-width",a.strokeWeight+"px");c.setAttribute("stroke-opacity",a.strokeOpacity);c.setAttribute("stroke-dasharray",
("solid"==a.strokeStyle?[0,0,0]:a.strokeDasharray).join(","));c.style.visibility=a.visible?"inherit":"hidden";c.style.zIndex=a.zIndex},polygon:function(a){var c=this.b,d;d=document.createElementNS(this.Y,"path");d.setAttribute("id",a.id);d.setAttribute("stroke-linjoin","round");d.setAttribute("stroke-linecap","round");c.appendChild(d);a.b=d;this.sa(a);this.ta(a)},sa:function(a){for(var c=a.b,d=this.a,f=[],j=180,h=-85,k=0;k<a.path.length;k++){var m=d.s(a.path[k]);f.push(m.x.toFixed(1)+","+m.y.toFixed(1));
this.ma(m.x,m.y,c.parentNode);j=Math.min(a.path[k].lng,j);h=Math.max(a.path[k].lat,h)}c.setAttribute("d",0<f.length?"M "+f.join(" ")+" z":"M 1,1 z");a.J=new e.LngLat(j,h)},ta:function(a){var c=a.b;c.setAttribute("fill",a.fillColor);c.setAttribute("fill-opacity",a.fillOpacity);c.setAttribute("stroke",a.strokeColor);c.setAttribute("stroke-width",a.strokeWeight+"px");c.setAttribute("stroke-opacity",a.strokeOpacity);c.setAttribute("stroke-dasharray",("solid"==a.strokeStyle?[0,0,0]:a.strokeDasharray).join(","));
c.style.visibility=a.visible?"inherit":"hidden";c.style.zIndex=a.zIndex},circle:function(a){var c=this.b,d;d=document.createElementNS(this.Y,"circle");d.setAttribute("id",a.id);c.appendChild(d);a.b=d;this.aa(a);this.ka(a)},aa:function(a){var c=a.b,d=this.a,f=d.s(a.center);c.setAttribute("cx",f.x.toFixed(1));c.setAttribute("cy",f.y.toFixed(1));a=a.center.offset(a.radius,0);d=d.s(a);d=Math.abs(f.x-d.x);c.setAttribute("r",d);this.ma(f.x-d,f.y-d,c.parentNode);this.ma(f.x+d,f.y+d,c.parentNode)},ka:function(a){var c=
a.b;c.setAttribute("fill",a.fillColor);c.setAttribute("fill-opacity",a.fillOpacity);c.setAttribute("stroke",a.strokeColor);c.setAttribute("stroke-width",a.strokeWeight+"px");c.setAttribute("stroke-opacity",a.strokeOpacity);c.setAttribute("stroke-dasharray",("solid"==a.strokeStyle?[0,0,0]:a.strokeDasharray).join(","));c.style.visibility=a.visible?"inherit":"hidden";c.style.zIndex=a.zIndex}});e.Fb=p({a:t,b:t,dc:"urn:schemas-microsoft-com:vml",initialize:function(a){document.namespaces.ad||document.namespaces.add("abc",
this.dc);var c=document.createElement("abc:group");c.id="ren_"+a.id;c.coordsize=a.width+","+a.height;c.style.width=a.width+"px";c.style.height=a.height+"px";c.style.left="0px";c.style.top="0px";c.style.position="absolute";c.unselectable="on";if(e.q.rc||e.q.kb)c.innerHTML='<abc:shape style="Z-INDEX:1;POSITION:absolute;WIDTH:1px;HEIGHT:1px;BEHAVIOR:url(#default#VML)" coordsize="1,1" filled="f" stroked="t" strokecolor="red" strokeweight="0.5pt" path="m0,0 1,1 e"><abc:stroke style="BEHAVIOR:url(#default#VML)" opacity="26214f" dashstyle="shortDash"></abc:stroke></abc:shape>';
this.a=a;this.b=c;a.contains.re.appendChild(c)},polyline:function(a){var c=this.b,d;d=document.createElement("abc:shape");d.id=a.id;d.style.cssText="behavior:url(#default#VML);position:absolute;width:1px;height:1px;";d.coordsize="1,1";d.filled=t;d.stroked=n;a.b=d;this.ua(a);this.va(a);c.appendChild(d)},ua:function(a){for(var c=a.b,d=this.a,f=[],j=180,h=-85,k=0;k<a.path.length;k++){var m=d.s(a.path[k]);f.push(m.x+","+m.y);j=Math.min(a.path[k].lng,j);h=Math.max(a.path[k].lat,h)}d=f[0];f.shift();c.path=
"m "+d+" l "+f.join(" ")+" e";a.J=new e.LngLat(j,h)},va:function(a){var c=a.b;c.strokecolor=a.strokeColor;c.strokeweight=a.strokeWeight+"px";var d=c.children[0]||document.createElement("abc:stroke");d.style.cssText="behavior:url(#default#VML);";d.opacity=a.strokeOpacity;"solid"!=a.strokeStyle&&(d.dashstyle="ShortDash");d.endcap="round";c.children[0]||c.appendChild(d);c.style.visibility=a.visible?"inherit":"hidden";c.style.zIndex=a.zIndex},polygon:function(a){var c=this.b,d;d=document.createElement("abc:shape");
d.id=a.id;d.style.cssText="behavior:url(#default#VML);position:absolute;width:1px;height:1px;";d.coordsize="1,1";d.filled=n;d.stroked=n;c.appendChild(d);a.b=d;this.sa(a);this.ta(a)},sa:function(a){for(var c=a.b,d=this.a,f=[],j=180,h=-85,k=0;k<a.path.length;k++){var m=d.s(a.path[k]);f.push(m.x+","+m.y);j=Math.min(a.path[k].lng,j);h=Math.max(a.path[k].lat,h)}d=f[0];f.shift();c.path="m "+d+" l "+f.join(" ")+" x e";a.J=new e.LngLat(j,h)},ta:function(a){var c=a.b;c.fillcolor=a.fillColor;c.strokecolor=
a.strokeColor;c.strokeweight=a.strokeWeight+"px";var d=c.children[0]||document.createElement("abc:stroke"),f=c.children[1]||document.createElement("abc:fill");d.opacity=a.strokeOpacity;"solid"!=a.strokeStyle&&(d.dashstyle="ShortDash");d.style.cssText="behavior:url(#default#VML);";f.opacity=a.fillOpacity;f.style.cssText="behavior:url(#default#VML);";c.children[0]||c.appendChild(d);c.children[1]||c.appendChild(f);c.style.visibility=a.visible?"inherit":"hidden";c.style.zIndex=a.zIndex},circle:function(a){var c=
this.b,d;d=document.createElement("abc:oval");d.id=a.id;d.style.cssText="behavior:url(#default#VML);position:absolute";d.filled=n;d.stroked=n;c.appendChild(d);a.b=d;this.aa(a);this.ka(a)},aa:function(a){var c=a.b,d=this.a,f=d.s(a.center),e=a.center.offset(a.radius,0),d=d.s(e),d=Math.abs(f.x-d.x);c.style.width=2*d+"px";c.style.height=2*d+"px";c.style.top=f.y-d+"px";c.style.left=f.x-d+"px";a.J=a.center.offset(-a.radius,a.radius)},ka:function(a){var c=a.b;c.strokecolor=a.strokeColor;c.strokeweight=a.strokeWeight+
"px";c.fillcolor=a.fillColor;var d=document.createElement("abc:stroke");d.style.cssText="behavior:url(#default#VML);";"solid"!=a.strokeStyle&&(d.dashstyle="ShortDash");d.opacity=a.strokeOpacity;c.appendChild(d);d=document.createElement("abc:fill");d.style.cssText="behavior:url(#default#VML);";d.opacity=a.fillOpacity;c.appendChild(d);c.style.visibility=a.visible?"inherit":"hidden"}});e.Circle=p({_type:"circle",a:t,b:t,id:0,zIndex:1E3,center:{},radius:100,strokeColor:"#BDBDBD",strokeOpacity:0.9,strokeWeight:2,
strokeStyle:"solid",strokeDasharray:[10,5],fillColor:"#F8F8F8",fillOpacity:0.8,visible:n,J:t,initialize:function(a){for(var c in a)"_"!=c.substr(0,1)&&this[c]!=l&&(this[c]=a[c]);return this},setCenter:function(a){this.center=a;this.a.o.aa(this);this.a.c(this,"change",this)},getBounds:function(){var a=this.center.offset(-this.radius,this.radius),c=this.center.offset(this.radius,-this.radius);return new e.Bounds(a,c)},getCenter:y("center"),setRadius:function(a){this.radius=a;this.a.o.aa(this);this.a.c(this,
"change",this)},getRadius:y("radius"),hide:function(){this.visible=t;this.b.style.visibility="hidden";this.a.c(this,"hide",this)},show:function(){this.b.style.visibility="inherit";this.visible=n;this.a.c(this,"show",this)},setOptions:function(a){for(var c in a)-1<"strokeColor,strokeStyle,strokeOpacity,strokeWeight,fillColor,fillOpacity".indexOf(c)&&a[c]&&(this[c]=a[c]);this.a.o.ka(this);this.a.c(this,"change",this)},getOptions:function(){for(var a="strokeColor strokeStyle strokeOpacity strokeWeight fillColor fillOpacity".split(" "),
c={},d=0;d<a.length;d++)c[a[d]]=this[a[d]];return c},getArea:function(){return(Math.PI*Math.pow(this.radius,2)).toFixed(2)},ga:function(){this.b&&this.a.o.b.removeChild(this.b)},Q:function(){for(var a=this.b,c=this.a,d=this,f="click dblclick mouseover mouseout mousemove mousedown mouseup".split(" "),e=0;e<f.length;e++)c.addEvent(a,f[e],function(a){a.lnglat=c.f.lnglat;c.c(d,a.type,a)});c.addEvent(a,"contextmenu",function(a){a.lnglat=c.f.lnglat;c.c(d,"rightclick",a)})}});e.ContextMenu=p({_type:"contextmenu",
position:{},content:"",width:200,className:"",initialize:function(a){for(var c in a)"_"!=c.substr(0,1)&&this[c]!=l&&(this[c]=a[c]);document.createElement("ul").style.cssText="margin:0;padding:0;list-style-type:none;position:relative;background-color:#FFFFFF;border:1px solid #4B4B4B;border-radius:3px 3px 3px 3px;box-shadow:2px 2px 8px #999999;padding:2px;white-space:nowrap;cursor:hand;cursor:pointer;";this.V=[];return this},F:function(){var a=this.V.sort(function(a,c){return a.so-c.so}),c=document.createElement("ul");
c.style.cssText="margin:0;padding:0;list-style-type:none;position:relative;background-color:#FFFFFF;border:1px solid #4B4B4B;border-radius:3px 3px 3px 3px;box-shadow:2px 2px 8px #999999;padding:2px;white-space:nowrap;cursor:hand;cursor:pointer;";for(var d=0;d<a.length;d++){var f=document.createElement("li");f.style.cssText="text-indent:0.5em;height:20px;line-height:20px;word-break:break-all;white-space:nowrap;";f.innerHTML=a[d].text;f.onclick=a[d].fn;f.so=a[d].so;f.onmouseover=function(){this.style.backgroundColor=
"#F3F3EE"};f.onmouseout=function(){this.style.backgroundColor=""};a[d].split&&(f.style.borderBottom="#ccc solid 1px");c.appendChild(f)}return c},open:function(a,c){function d(){h.close();h.a.removeEvent(document,"click",d)}this.a=a;var f=this.a.contains.me;f.innerHTML="";""==this.content?f.appendChild(this.F()):f.innerHTML=this.content;f.className=this.className;f.style.display="block";f.style.width=this.width+"px";var e=this.a.s(c);e.x+f.offsetWidth>this.a.width&&(e.x-=this.width);e.y+f.offsetHeight>
this.a.height&&(e.y-=f.offsetHeight);f.style.left=e.x+"px";f.style.top=e.y+"px";var h=this;this.a.addEvent(document,"click",d);this.a.c(this,"open",this)},close:function(){this.a.contains.me.style.display="none";this.a.contains.me.innerHTML="";this.a.c(this,"close",this)},addItem:function(a,c,d,f){if(!a||!c)return t;d==l&&(d=0);this.V.push({text:a,fn:c,so:d,split:f});return n},removeItem:function(a,c){if(!a||!c)return t;for(var d=0;d<this.V.length;d++)if(this.V[d].text==a&&this.V[d].fn.toString()==
c.toString())return this.V.splice(d,1),n;return t},setClassName:function(){this.a.contains.me.className=this.className},getClassName:y("className")});e.Icon=p({_type:"icon",size:new e.Size(20,24),imageOffset:new e.Pixel(0,0),image:"/images/marker_sprite.png",initialize:function(a){this.image=e.Conf.client+this.image;for(var c in a)"_"!=c.substr(0,1)&&this[c]!=l&&(this[c]=a[c]);return this},F:function(){var a=document.createElement("div");a.style.cssText="width:"+this.size.width+"px;height:"+this.size.height+
"px;overflow:hidden;position:relative;z-index:1;";this.b=a;a=document.createElement("img");a.style.cssText="position:absolute;z-index:-1;left:"+this.imageOffset.x+"px;top:"+this.imageOffset.y+"px;cursor:pointer";a.src=this.image;window.ActiveXObject&&!window.XMLHttpRequest&&(a.onload=function(){e.Util.fixPng(this)});this.b.appendChild(a);return this.b}});e.InfoWindow=p({_type:"inforwindow",a:t,isCustom:t,position:{},content:"",offset:new e.Pixel(-106,-61),size:new e.Size(300,0),isOpen:t,autoMove:n,
initialize:function(a){for(var c in a)"_"!=c.substr(0,1)&&this[c]!=l&&(this[c]=a[c]);window.ActiveXObject&&(!window.XMLHttpRequest&&"undefined"==typeof DD_belatedPNG)&&(a=e.Conf.client+"/plugin?cls=iepngfix",e.Util.cookieEnabled()||(a+="&key="+e.Conf.key),new e.AjaxRequest(a,x(),n));return this},F:function(){if(this.isCustom==t){var a=e.Conf.client+"/images/info.png",c=document.createDocumentFragment(),d=document.createElement("div");d.style.cssText="height:8px;position:relative;z-index:104;overflow:hidden;";
var f=[];f.push('<div style="width:8px;height:8px;background:url('+a+') -13px 0px;position:absolute;left:0;top:0;overflow:hidden;"></div>');f.push('<div style="position:relative;height:7px;border-top:#BDBDBD solid 1px;margin:0px 8px 1px 8px;background-color:#F8F8F8;overflow:hidden;"></div>');f.push('<div style="width:8px;height:8px;background:url('+a+') -19px 0px;position:absolute;right:0;top:0;overflow:hidden;"></div>');d.innerHTML=f.join("");c.appendChild(d);d=document.createElement("div");d.style.cssText=
"padding:0 8px;border-left:#BDBDBD solid 1px;border-right:#BDBDBD solid 1px; background-color:#F8F8F8;height:auto;white-space:break-word;overflow:hidden;";0==this.size.height?d.style.width=this.size.width-18+"px":(d.style.width=this.size.width-18+"px",d.style.height=this.size.height-16+"px");d.innerHTML=this.content;c.appendChild(d);d=document.createElement("div");d.style.cssText="height:8px;position:relative;z-index:104;";f=[];f.push('<div style="width:8px;height:8px;background:url('+a+') -13px -6px;position:absolute;left:0;top:0;overflow:hidden;"></div>');
f.push('<div style="height:7px;border-bottom:#BDBDBD solid 1px;margin:0px 8px;background-color:#F8F8F8;overflow:hidden;"></div>');f.push('<div style="width:8px;height:8px;background:url('+a+') -19px -6px;position:absolute;right:0;top:0;overflow:hidden;"></div>');d.innerHTML=f.join("");c.appendChild(d);d=document.createDocumentFragment();f=Math.ceil((this.size.width||this.ha.clientWidth)/2)-6;for(i=0;6>i;i++){var j=document.createElement("div");j.style.cssText="position:relative;height:8px;z-index:105;border:none;overflow:hidden;";
j.style.backgroundImage="url("+a+")";j.style.backgroundPosition="-"+(35-7*i)+"px -"+(1+7*i)+"px";j.style.width=52-7*i+"px";j.style.left=f-8*i+"px";j.style.top="-1px";j.className="tip_mapabc";d.appendChild(j)}c.appendChild(d);d=document.createElement("img");d.style.cssText="position:absolute;top:4px;right:4px;z-index:500;width:12px;height:12px;background:url("+a+") 0px 0px;cursor:hand;cursor:pointer;";d.src=e.Conf.client+"/images/blank.gif";d.alt="close";d.onmouseover=function(){this.style.backgroundPosition=
"0px -12px"};d.onmouseout=function(){this.style.backgroundPosition="0px -0px"};var h=this;this.a.addEvent(d,"click",function(a){h.close();h.a.stopPropagation(a)});c.appendChild(d);return c}return this.content},open:function(a,c){function d(){if(e.autoMove){var a=f.pa(),c=a.x+parseInt(h.style.left),a=a.y+parseInt(h.style.top),d=0,m=0;0>c?d=-c+5:c+e.size.width>f.width&&(d=f.width-e.size.width-c-5);c=(e.size.height||h.clientHeight)+47;0>a?m=-a+5:a+c>=f.height&&(m=f.height-a-c-5);f.r(d,m)}setTimeout(function(){h.style.visibility=
"visible"},40);e.isOpen=n;e.Q();f.c(e,"open",e);f.C=e}var f=this.a=a,e=this;this.position=c;var h=this.ha=f.contains.ti;h.style.cssText="position:absolute;z-index:150;visibility:hidden;";for(var k=h.children;0<k.length;)h.removeChild(k[0]);k=this.F();"object"==typeof k?(h.appendChild(k),"undefined"!=typeof DD_belatedPNG&&DD_belatedPNG.fix(".tip_mapabc")):(h.style.position="relative",h.style.height="",h.innerHTML=k);var m=a.s(c).add(e.offset);this.isCustom==t?setTimeout(function(){if(0==e.size.height){if(!h.children[1])return t;
var a=0!=e.offset.y?e.offset.y-h.children[1].clientHeight:0;47<h.clientHeight&&(h.style.height=h.clientHeight-47+"px");h.style.top=m.y-e.offset.y+a+"px"}else h.style.height=e.size.height-47+"px",h.style.top=m.y+"px";h.style.width=e.size.width+"px";h.style.left=m.x+"px";f.r(1,0);f.r(-1,0);d()},1):setTimeout(function(){h.style.left=m.x+"px";h.style.width=(e.size.width||h.clientWidth)+"px";h.style.top=m.y-e.offset.y+(0!=e.offset.y?e.offset.y-h.offsetHeight:0)+"px";h.style.height=(e.size.height||h.clientHeight)+
"px";f.r(1,0);f.r(-1,0);d()},1)},close:function(){this.ha.style.visibility="hidden";for(var a=this.ha.children;0<a.length;)this.ha.removeChild(a[0]);this.isOpen=t;this.a&&this.a.c(this,"close",this);a=this.a;a.C=r;delete a.C},getIsOpen:y("isOpen"),setIsCustom:function(a){this.isCustom=a;this.a&&this.a.c(this,"change",this)},getIsCustom:y("isCustom"),setOffset:function(a){this.offset=a;this.a&&(this.a.c(this,"change",this),this.open(this.a,this.position))},getOffset:y("offset"),setContent:function(a){this.content=
a;this.a&&(this.a.c(this,"change",this),this.open(this.a,this.position))},getContent:y("content"),setPosition:function(a){this.position=a;this.a&&(this.a.c(this,"change",this),this.open(this.a,this.position))},getPosition:y("position"),setSize:function(a){this.size=a;this.a&&(this.a.c(this,"change",this),this.open(this.a,this.position))},getSize:y("size"),Q:x()});e.Marker=p({_type:"marker",a:t,b:t,id:0,position:{},zIndex:2,icon:e.Conf.client+"/images/marker_sprite.png",content:"",offset:new e.Pixel(0,
0),draggable:t,cursor:"pointer",autoRotation:n,visible:n,rotation:0,initialize:function(a){for(var c in a)"_"!=c.substr(0,1)&&this[c]!=l&&(this[c]=a[c]);this.id=this.id?this.id:e.Util.guid();return this},F:function(){var a=this.a,c=document.createElement("div");c.style.cssText="position:absolute;z-index:"+this.zIndex;c.style.cursor=this.cursor;c.style.visibility=this.visible?"inherit":"hidden";this.rotation&&this.Ga(c,this.rotation);c.id=this.id;if(""!=this.content)"object"==typeof this.content?c.appendChild(this.content):
c.innerHTML=this.content;else if("string"==typeof this.icon){var d="",d=a.isIE6&&-1<this.icon.toLocaleLowerCase().indexOf(".png")?'<img src="'+this.icon+'" style="border:none;" onload="AMap.Util.fixPng(this)"/>':'<img src="'+this.icon+'" style="border:none;"/>';c.innerHTML=d}else c.appendChild(this.icon.F());a=a.s(this.position).add(this.offset);c.style.left=a.x+"px";c.style.top=a.y+"px";return this.b=c},setPosition:function(a){var c=this.b,d=this.a.s(a).add(this.offset);c.style.left=d.x+"px";c.style.top=
d.y+"px";this.position=a},getPosition:y("position"),Ia:function(){var a=this.b,c={},d=this.a,c=(new e.Pixel(parseInt(a.style.left),parseInt(a.style.top))).t(this.offset);return this.position=d.La(c)},setIcon:function(a){var c=this.b,d=this.a;if(!this.content){this.icon=a;if("string"==typeof this.icon)a=[],d.isIE&&!d.isIE9&&-1<this.icon.toLocaleLowerCase().indexOf(".png")?a.push('<img src="'+this.icon+'" style="cursor:pointer;border:none;" onload="M["Util"]["fixPng"](this)"/>'):a.push('<img src="'+
this.icon+'" style="cursor:pointer;cursor:hand;border:none;"/>'),c.innerHTML=a.join("");else{for(d=c.getElementsByTagName("*");0<d.length;)c.removeChild(d[0]);c.appendChild(this.icon.F())}return n}return t},getIcon:y("icon"),setzIndex:function(a){this.zIndex=a;this.b.style.zIndex=a},setDraggable:function(a){this.draggable=a},getDraggable:y("draggable"),setVisible:function(a){this.visible=a;this.b.style.visibility=a?"inherit":"hidden"},getVisible:y("visible"),show:function(){this.visible=n;this.b.style.visibility=
"inherit"},hide:function(){this.visible=t;this.b.style.visibility="hidden"},setCursor:function(a){this.cursor=this.b.style.cursor=a},getCursor:y("cursor"),setContent:function(a){this.content=a;if("object"==typeof this.content){for(a=this.b.getElementsByTagName("*");0<a.length;)this.b.removeChild(a[0]);this.b.appendChild(this.content)}else this.b.innerHTML=this.content},getContent:y("content"),moveTo:function(a,c,d){var f=this,j=this.a,h=this.b,k=0,m=this.Ia(),q=a.t(m),p=Math.round(3.6*a.distance(m)/
c);if(0==p)return this.setPosition(a),j.c(f,"moveend",f),t;d=d||e.Tween.Linear;f.i&&window.clearInterval(f.i);f.i=setInterval(function(){k++;f.setPosition(new e.LngLat(d(k,m.lng,q.lng,p),d(k,m.lat,q.lat,p)));k>=p&&(f.setPosition(a),window.clearInterval(f.i),j.c(f,"moveend",f));j.c(f,"moving",f)},40);this.autoRotation&&this.Ga(h,this.Ob(m,a))},moveAlong:function(a,c,d,e){function j(){k.i&&window.clearInterval(k.i);1<q?k.setPosition(a[q-1]):k.setPosition(a[0]);q<a.length&&k.moveTo(a[q],c,d)}function h(){q++;
q<a.length?k.moveTo(a[q],c,d):(m.c(k,"movealong",k),e?(q=1,k.setPosition(a[0]),k.moveTo(a[1],c,d)):(m.unbind(k,"moveend",h),m.unbind(m,"zoomchange",j)))}var k=this,m=this.a,q=1;k.setPosition(a[0]);m.bind(this,"moveend",h);m.bind(m,"zoomchange",j);k.moveTo(a[1],c,d)},stopMove:function(){this.i&&window.clearInterval(this.i)},Ob:function(a,c){var d=this.a;a=d.m(a,d.level);c=d.m(c,d.level);var d=0,e=c.y-a.y,j=c.x-a.x;0!=c.x-a.x?(d=Math.atan((c.y-a.y)/(c.x-a.x)),0<=e&&0>j?d=Math.PI+d:0>e&&0>=j?d=Math.PI+
d:0>e&&0<=j&&(d=2*Math.PI+d)):d=c.y>a.y?Math.PI/2:3*Math.PI/2;return(180*d/Math.PI).toFixed(1)},setRotation:function(a){this.Ga(this.b,a);this.rotation=a},Ga:function(a,c){var d=0,f=0,j=this.a;if(d=e.Util.transform())a.style[d]="rotate("+c+"deg)";else if(j.isIE){a.style.filter='progid:DXImageTransform.Microsoft.Matrix(sizingmethod="auto expand")';var f=Math.cos(c*Math.PI/180),d=Math.sin(c*Math.PI/180),h=a.filters.item(0);h.M11=h.M22=f;h.M12=-(h.M21=d)}j.c(this,"rotate",c)},ga:function(){this.a.contains.mk.removeChild(this.b)},
Q:function(){var a=this.b,c=this,d=this.a,e={};d.addEvent(a,"click",function(a){a.lnglat=c.position;e==a.lnglat&&d.c(c,"click",a)});d.addEvent(a,"mousemove",function(a){a.lnglat=c.position;d.c(c,"mousemove",a)});d.isIE?(d.addEvent(a,"mouseenter",function(a){a.lnglat=d.f.lnglat;d.c(c,"mouseover",a)}),d.addEvent(a,"mouseleave",function(a){a.lnglat=d.f.lnglat;d.c(c,"mouseout",a)})):(d.addEvent(a,"mouseover",function(a){var e=a.relatedTarget;e&&!(e.compareDocumentPosition(this)&8)&&(a.lnglat=d.f.lnglat,
d.c(c,"mouseover",a))}),d.addEvent(a,"mouseout",function(a){var e=a.relatedTarget;e&&!(e.compareDocumentPosition(this)&8)&&(a.lnglat=d.f.lnglat,d.c(c,"mouseout",a))}));d.addEvent(a,"dblclick",function(a){a.lnglat=c.position;d.c(c,"dblclick",a)});d.addEvent(a,"mousedown",function(a){a.lnglat=c.position;e=a.lnglat;d.c(c,"mousedown",a)});d.addEvent(a,"mouseup",function(a){a.lnglat=c.position;d.c(c,"mouseup",a)});var j=0,h=0,k=0;d.drag(a,function(a){c.draggable&&(k=0,j=parseInt(a.clientX),h=parseInt(a.clientY),
d.stopPropagation(a))},function(e){c.draggable&&(0==k&&(d.c(c,"dragstart",e),d.Ba()),k=1,a.style.left=parseInt(a.style.left)+e.clientX-j+"px",a.style.top=parseInt(a.style.top)+e.clientY-h+"px",j=e.clientX,h=e.clientY,e.lnglat=c.Ia(),d.c(c,"dragging",e),d.stopPropagation(e))},function(a){c.draggable&&(0!=k&&(a.lnglat=c.Ia(),d.c(c,"dragend",a)),k=0,d.stopPropagation(a))});d.addEvent(a,"contextmenu",function(a){a.lnglat=d.f.lnglat;d.c(c,"rightclick",a);d.stopPropagation(a)})}});e.Polygon=p({_type:"polygon",
a:t,b:t,id:"po"+e.Util.guid(),zIndex:1E3,path:[],strokeColor:"#BDBDBD",strokeOpacity:0.9,strokeWeight:2,strokeStyle:"solid",fillColor:"#F8F8F8",fillOpacity:0.8,strokeDasharray:[10,5],visible:n,J:t,initialize:function(a){for(var c in a)"_"!=c.substr(0,1)&&this[c]!=l&&(this[c]=a[c]);return this},setPath:function(a){this.path=[].concat(a);this.a.o.sa(this);this.a.c(this,"change",this)},getPath:y("path"),setOptions:function(a){for(var c in a)-1<"strokeColor,strokeStyle,strokeOpacity,strokeWeight,fillColor,fillOpacity".indexOf(c)&&
a[c]&&(this[c]=a[c]);this.a.o.ta(this);this.a.c(this,"change",this)},getOptions:function(){for(var a="strokeColor strokeStyle strokeOpacity strokeWeight fillColor fillOpacity".split(" "),c={},d=0;d<a.length;d++)c[a[d]]=this[a[d]];return c},hide:function(){this.visible=t;this.b.style.visibility="hidden";this.a.c(this,"hide",this)},show:function(){this.b.style.visibility="inherit";this.visible=n;this.a.c(this,"show",this)},getArea:function(){var a=6378137*Math.PI/180,c=0,d=this.path,e=d.length;if(3>
e)return 0;for(i=0;i<e-1;i++)var j=d[i],h=d[i+1],c=c+(j.lng*a*Math.cos(j.lat*Math.PI/180)*h.lat*a-h.lng*a*Math.cos(h.lat*Math.PI/180)*j.lat*a);e=d[i];d=d[0];c+=e.lng*a*Math.cos(e.lat*Math.PI/180)*d.lat*a-d.lng*a*Math.cos(d.lat*Math.PI/180)*e.lat*a;return Number((0.5*Math.abs(c)).toFixed(2))},ga:function(){this.b&&this.a.o.b.removeChild(this.b)},Q:function(){for(var a=this.b,c=this.a,d=this,e="click dblclick mouseover mouseout mousemove mousedown mouseup".split(" "),j=0;j<e.length;j++)c.addEvent(a,
e[j],function(a){a.lnglat=c.f.lnglat;c.c(d,a.type,a)});c.addEvent(a,"contextmenu",function(a){a.lnglat=c.f.lnglat;c.c(d,"rightclick",a)})}});e.Polyline=p({_type:"polyline",a:t,b:t,id:"pl"+e.Util.guid(),zIndex:1E3,path:[],strokeColor:"#006600",strokeOpacity:0.9,strokeWeight:3,strokeStyle:"solid",strokeDasharray:[10,5],visible:n,J:t,initialize:function(a){for(var c in a)"_"!=c.substr(0,1)&&this[c]!=l&&(this[c]=a[c]);return this},setPath:function(a){this.path=[].concat(a);this.a.o.ua(this);this.a.c(this,
"change",this)},getPath:y("path"),setOptions:function(a){for(var c in a)-1<"strokeColor,strokeStyle,strokeOpacity,strokeWeight,fillColor,fillOpacity".indexOf(c)&&a[c]&&(this[c]=a[c]);this.a.o.va(this);this.a.c(this,"change",this)},getOptions:function(){for(var a="strokeColor strokeStyle strokeOpacity strokeWeight fillColor fillOpacity".split(" "),c={},d=0;d<a.length;d++)c[a[d]]=this[a[d]];return c},hide:function(){this.visible=t;this.b.style.visibility="hidden";this.a.c(this,"hide",this)},show:function(){this.b.style.visibility=
"inherit";this.visible=n;this.a.c(this,"show",this)},getLength:function(){for(var a=this.path,c=0,d=0;d<a.length-1;d++)c+=Number(a[d].distance(a[d+1]));return Number(c.toFixed(2))},ga:function(){this.b&&this.a.o.b.removeChild(this.b)},Q:function(){for(var a=this.b,c=this.a,d=this,e="click dblclick mouseover mouseout mousemove mousedown mouseup".split(" "),j=0;j<e.length;j++)c.addEvent(a,e[j],function(a){a.lnglat=c.f.lnglat;c.c(d,a.type,a)});c.addEvent(a,"contextmenu",function(a){a.lnglat=c.f.lnglat;
c.c(d,"rightclick",a)})}});var s=p({initialize:function(a,c,d,e){this.Xa=a;this.Ya=c;this.Za=d;this.$a=e},transform:function(a,c){return this.cc(a,c)},cc:function(a,c){c=c||1;return new e.Pixel(c*(this.Xa*a.x+this.Ya),c*(this.Za*a.y+this.$a))},Lc:function(a,c){c=c||1;return new e.Pixel((a.x/c-this.Ya)/this.Xa,(a.y/c-this.$a)/this.Za)}}),A=Math.PI/180,B=180/Math.PI,w={m:function(a){return new e.Pixel(a.lng,a.lat)},W:function(a,c){return new e.LngLat(a.x,a.y,c)}},z={xa:85.0840591556,Aa:6356752.3142,
za:6378137,m:function(a){var c=this.xa,d=Math.max(Math.min(c,a.lat),-c),f=this.za,c=this.Aa;a=a.lng*A*f;var d=d*A,f=c/f,f=Math.sqrt(1-f*f),j=f*Math.sin(d),j=Math.pow((1-j)/(1+j),0.5*f),d=-c*Math.log(Math.tan(0.5*(0.5*Math.PI-d))/j);return new e.Pixel(a,d)},W:function(a){var c=this.za,d=this.Aa,f=a.x*B/c,c=d/c,c=Math.sqrt(1-c*c);a=Math.exp(-a.y/d);for(var d=Math.PI/2-2*Math.atan(a),j=15,h=0.1;1E-7<Math.abs(h)&&0<--j;)h=c*Math.sin(d),h=Math.PI/2-2*Math.atan(a*Math.pow((1-h)/(1+h),0.5*c))-d,d+=h;return new e.LngLat(f,
d*B)}},u={uc:function(a,c){var d=this.P.m(a),e=this.scale(c);return this.fa.transform(d,e)},Ic:function(a,c,d){c=this.scale(c);a=this.fa.Lc(a,c);return this.P.W(a,d)},m:function(a){return this.P.m(a)},scale:function(a){return 256*Math.pow(2,a)}};u.EPSG3395=v({},u,{code:"EPSG:3395",P:z,fa:new s(0.5/(Math.PI*z.za),0.5,-0.5/(Math.PI*z.Aa),0.5)});u.EPSG3857=v({},u,{code:"EPSG:3857",P:{xa:85.0511287798,m:function(a){var c=this.xa,c=Math.max(Math.min(c,a.lat),-c);a=a.lng*A;c*=A;c=Math.log(Math.tan(Math.PI/
4+c/2));return new e.Pixel(a,c)},W:function(a,c){return new e.LngLat(a.x*B,(2*Math.atan(Math.exp(a.y))-Math.PI/2)*B,c)}},fa:new s(0.5/Math.PI,0.5,-0.5/Math.PI,0.5),m:function(a){a=this.P.m(a);return new e.Pixel(6378137*a.x,6378137*a.y)}});u.Pc=v({},u.Oc,{code:"EPSG:900913"});u.EPSG4326=v({},u,{code:"EPSG:4326",P:w,fa:new s(1/360,0.5,-1/360,0.5)});u.Simple=v({},u,{P:w,fa:new s(1,0,1,0)});e.Request=function(a,c,d){var f=this.lc("_",5)+"_",j=document.createElement("script");document.body.appendChild(j);
j.type="text/javascript";if(c){var h=function(a){var d=arguments.callee;if(d.la)d.fc.call(d.la,a);else try{c(a)}catch(f){}window[d.ib]=r;delete e[d.ib];setTimeout(function(){document.body.removeChild(d.Ma)},500)};h.ib=f;h.Ma=j;h.la=d;h.fc=c;e[f]=h}e.Util.cookieEnabled()||(a+="&key="+e.Conf.key);e.Conf.network&&(a+="&uniqid="+e.Util.wb());j.src=a+"&cbk=AMap."+f;this.Ma=j};e.Request.prototype={lc:function(a,c){var d="0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz".split("");c||(c=Math.floor(Math.random()*
d.length));for(var e="",j=0;j<c;j++)e+=d[Math.floor(Math.random()*d.length)];return a+e}};e.MAjaxResult={};e.AjaxRequest=function(a,c,d){e.Util.cookieEnabled()||(a+="&key="+e.Conf.key);if(e.Conf.network){var f=e.Util.wb();a+="&uniqid="+f}var j=e.Util.guid(),h=document.getElementById("abc_"+j);h&&document.getElementsByTagName("head")[0].removeChild(h);h=document.createElement("script");h.id="abc_"+j;h.type="text/javascript";h.src=a+"&ia=1&rid="+j;h.charset="utf-8";document.getElementsByTagName("head")[0].appendChild(h);
var k=this;e.q.lb?h.onreadystatechange=function(){("loaded"==this.readyState||"complete"==this.readyState)&&k.ajaxResult()}:(h.onload=function(){k.ajaxResult()},h.onerror=function(){c({status:0,info:"\u670d\u52a1\u5f02\u5e38",url:a})});this.ajaxResult=function(){e.MAjaxResult[j]?(c&&(f&&(e.MAjaxResult[j].uniqid=f),c(e.MAjaxResult[j])),document.getElementsByTagName("head")[0].removeChild(e.$("abc_"+j)),e.MAjaxResult[j]=r,delete e.MAjaxResult[j]):d?c&&c():c({status:0,info:"\u670d\u52a1\u5f02\u5e38",
url:a})}};e.BusSearch=p({_type:"bussearch",e:"",initialize:function(a){a=a||{};var c={encode:"utf-8",_resType:"json",per:"",batch:1,type:"",number:10,retvalue:1},d="",f;for(f in c)c[f]&&(d+=f.replace("_","")+"="+encodeURI(a[f.replace("_","")]||c[f])+"&");"gb2312"==a.encode&&new e.AjaxRequest(e.Conf.client+"/plugin?cls=encodeToGb2312",x(),n);this.e=e.Conf.server+"/bus/simple?"+d},byBusId:function(a,c,d){a instanceof Array&&(a=a.join(","));a="gb2312"==this.encode?self.e+"sid=8085&ids="+a+"&city="+e.Util.encodeToGb2312(c):
this.e+"sid=8085&ids="+a+"&city="+encodeURI(c);new e.AjaxRequest(a,d)},byBusName:function(a,c,d){a="gb2312"==this.encode?self.e+"sid=8004&busName="+e.Util.encodeToGb2312(a)+"&city="+e.Util.encodeToGb2312(c):this.e+"sid=8004&busName="+encodeURI(a)+"&city="+encodeURI(c);new e.AjaxRequest(a,d)},byBusStation:function(a,c,d){a="gb2312"==this.encode?self.e+"sid=8086&stationName="+e.Util.encodeToGb2312(a)+"&city="+e.Util.encodeToGb2312(c):this.e+"sid=8086&stationName="+encodeURI(a)+"&city="+encodeURI(c);
new e.AjaxRequest(a,d)},byTwoPoi:function(a,c,d){for(var f=[],j=0;j<a.length;j++)f.push(a[j].toString());a="gb2312"==this.encode?self.e+"sid=8001&xys="+f.join(";")+"&city="+e.Util.encodeToGb2312(c):this.e+"sid=8001&xys="+f.join(";")+"&city="+encodeURI(c);new e.AjaxRequest(a,d)}});e.Geocoder=p({_type:"geocoder",initialize:function(a){a=a||{};var c={_resType:"json",encode:"utf-8",range:3E3,roadnum:10,crossnum:3,poinum:10,retvalue:1},d="",f;for(f in c)c[f]&&(d+=f.replace("_","")+"="+encodeURI(a[f.replace("_",
"")]||c[f])+"&");"gb2312"==a.encode&&new e.AjaxRequest(e.Conf.client+"/plugin?cls=encodeToGb2312",x(),n);this.e=d},geocode:function(a,c){var d="gb2312"==this.encode?e.Conf.server+"/geocode/simple?"+self.e+"sid=7000&address="+e.Util.encodeToGb2312(a):e.Conf.server+"/geocode/simple?"+this.e+"sid=7000&address="+encodeURI(a);new e.AjaxRequest(d,c)},regeocode:function(a,c){new e.AjaxRequest(e.Conf.server+"/rgeocode/simple?"+this.e+"sid=7001&region="+a.toString(),c)}});e.Partition=p({_type:"partition",
e:"",initialize:function(a){a=a||{};var c={encode:"utf-8",srctype:"",type:"",number:10,batch:1,range:3E3,ext:"",_resType:"json",retvalue:1},d="",f;for(f in c)c[f]&&(d+=f.replace("_","")+"="+encodeURI(a[f.replace("_","")]||c[f])+"&");"gb2312"==a.encode&&new e.AjaxRequest(e.Conf.client+"/plugin?cls=encodeToGb2312",x(),n);this.e=e.Conf.server+"/gss/simple?"+d},byProvince:function(a){new e.AjaxRequest(this.e+"sid=1022&region=116.39,39.51&maplevel=2",a)},byCity:function(a,c){var d="gb2312"==this.encode?
self.e+"sid=1021&city="+e.Util.encodeToGb2312(a):this.e+"sid=1021&city="+encodeURI(a);new e.AjaxRequest(d,c)},byDistrict:function(a,c,d){a="gb2312"==this.encode?self.e+"sid=1003&districtName="+e.Util.encodeToGb2312(a)+"&city="+e.Util.encodeToGb2312(c):this.e+"sid=1003&districtName="+encodeURI(a)+"&city="+encodeURI(c);new e.AjaxRequest(a,d)}});e.PoiSearch=p({_type:"poisearch",e:"",initialize:function(a){a=a||{};var c={encode:"utf-8",srctype:"",type:"",number:10,batch:1,range:3E3,ext:"",_resType:"json",
retvalue:1,sort:0,regionType:""},d="",f;for(f in c)if(c[f]||a[f])d+=f.replace("_","")+"="+encodeURI(a[f.replace("_","")]||c[f])+"&";"gb2312"==a.encode&&new e.AjaxRequest(e.Conf.client+"/plugin?cls=encodeToGb2312",x(),n);this.e=e.Conf.server+"/gss/simple?"+d},byKeywords:function(a,c,d){a="gb2312"==this.encode?self.e+"sid=1000&keyword="+e.Util.encodeToGb2312(a)+"&city="+e.Util.encodeToGb2312(c):this.e+"sid=1000&keyword="+encodeURI(a)+"&city="+encodeURI(c);new e.AjaxRequest(a,d)},byCenKeywords:function(a,
c,d,f){a="gb2312"==this.encode?self.e+"sid=1001&cen="+e.Util.encodeToGb2312(c)+"&keyword="+e.Util.encodeToGb2312(a)+"&city="+e.Util.encodeToGb2312(d):this.e+"sid=1001&cen="+encodeURI(c)+"&keyword="+encodeURI(a)+"&city="+encodeURI(d);new e.AjaxRequest(a,f)},byCenPoi:function(a,c,d){a="gb2312"==this.encode?self.e+"sid=1002&cenX="+a.lng+"&cenY="+a.lat+"&keyword="+e.Util.encodeToGb2312(c):this.e+"sid=1002&cenX="+a.lng+"&cenY="+a.lat+"&keyword="+encodeURI(c);new e.AjaxRequest(a,d)},byPguid:function(a,
c){new e.AjaxRequest(this.e+"sid=1006&pguid="+a,c)},byRegion:function(a,c,d){for(var f=[],j=0;j<a.length;j++)f.push(a[j].lng+","+a[j].lat);a="gb2312"==this.encode?self.e+"sid=1005&regionType=polygon&region="+f.join(";")+"&keyword="+e.Util.encodeToGb2312(c):this.e+"sid=1005&regionType=polygon&region="+f.join(";")+"&keyword="+encodeURI(c);new e.AjaxRequest(a,d)},inputPrompt:function(a,c,d){console.log("cookie:"+document.cookie);a="gb2312"==this.encode?self.e+"sid=1014&keyword="+e.Util.encodeToGb2312(a)+
"&city="+e.Util.encodeToGb2312(c):this.e+"sid=1014&keyword="+encodeURI(a)+"&city="+encodeURI(c);new e.AjaxRequest(a,d)}});e.RoadSearch=p({_type:"roadsearch",e:"",initialize:function(a){a=a||{};var c={encode:"utf-8",_resType:"json",ext:"",batch:1,number:10,retvalue:1},d="",f;for(f in c)c[f]&&(d+=f.replace("_","")+"="+encodeURI(a[f.replace("_","")]||c[f])+"&");"gb2312"==a.encode&&new e.AjaxRequest(e.Conf.client+"/plugin?cls=encodeToGb2312",x(),n);this.e=e.Conf.server+"/gss/simple?"+d},roadInfoSearchByRoadName:function(a,
c,d){a="gb2312"==this.encode?self.e+"sid=1008&roadName="+e.Util.encodeToGb2312(a)+"&city="+e.Util.encodeToGb2312(c):this.e+"sid=1008&roadName="+encodeURI(a)+"&city="+encodeURI(c);new e.AjaxRequest(a,d)},roadCrossSearchByRoadName:function(a,c,d){a="gb2312"==this.encode?self.e+"sid=1010&roadName="+e.Util.encodeToGb2312(a)+"&city="+e.Util.encodeToGb2312(c):this.e+"sid=1010&roadName="+encodeURI(a)+"&city="+encodeURI(c);new e.AjaxRequest(a,d)},roadCrossSearchByRoadNames:function(a,c,d,f){a="gb2312"==this.encode?
self.e+"sid=1009&roadName1="+e.Util.encodeToGb2312(a)+"&roadName2="+e.Util.encodeToGb2312(c)+"&city="+e.Util.encodeToGb2312(d):this.e+"sid=1009&roadName1="+encodeURI(a)+"&roadName2="+encodeURI(c)+"&city="+encodeURI(d);new e.AjaxRequest(a,f)}});e.RouteSearch=p({_type:"routesearch",e:"",initialize:function(a){a=a||{};var c={encode:"utf-8",_resType:"json",routeType:0,avoidType:"",avoidName:"",avoidRegion:[],per:10,retvalue:1},d="",f;for(f in c)if(c[f]||a[f])var j=a[f.replace("_","")]||c[f],j=j instanceof
Array?j.join(";"):j,d=d+(f.replace("_","")+"="+encodeURI(j)+"&");"gb2312"==a.encode&&new e.AjaxRequest(e.Conf.client+"/plugin?cls=encodeToGb2312",x(),n);this.e=e.Conf.server+"/route/simple?"+d},getNaviPath:function(a,c){for(var d=[],f=0;f<a.length;f++)d.push(a[f].toString());new e.AjaxRequest(this.e+"sid=8000&xys="+d.join(";"),c)}});e.RestAPI=p({_type:"restapi",e:"",initialize:x(),request:function(a,c){new e.AjaxRequest(a,c)}});window.AMap=e})();